System.registerDynamic("npm:core-js@1.2.6/library/modules/$",[],!0,function(require,t,e){var r=this,n=r.define;r.define=void 0;var i=Object;return e.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach},r.define=n,e.exports}),System.registerDynamic("npm:core-js@1.2.6/library/fn/object/define-property",["npm:core-js@1.2.6/library/modules/$"],!0,function(require,t,e){var r=this,n=r.define;r.define=void 0;var i=require("npm:core-js@1.2.6/library/modules/$");return e.exports=function(t,e,r){return i.setDesc(t,e,r)},r.define=n,e.exports}),System.registerDynamic("npm:babel-runtime@5.8.34/core-js/object/define-property",["npm:core-js@1.2.6/library/fn/object/define-property"],!0,function(require,t,e){var r=this,n=r.define;return r.define=void 0,e.exports={"default":require("npm:core-js@1.2.6/library/fn/object/define-property"),__esModule:!0},r.define=n,e.exports}),System.registerDynamic("npm:babel-runtime@5.8.34/helpers/create-class",["npm:babel-runtime@5.8.34/core-js/object/define-property"],!0,function(require,t,e){var r=this,n=r.define;r.define=void 0;var i=require("npm:babel-runtime@5.8.34/core-js/object/define-property")["default"];return t["default"]=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),i(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),t.__esModule=!0,r.define=n,e.exports}),System.registerDynamic("npm:babel-runtime@5.8.34/helpers/class-call-check",[],!0,function(require,t,e){var r=this,n=r.define;return r.define=void 0,t["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0,r.define=n,e.exports}),System.registerDynamic("npm:process@0.11.2/browser",[],!0,function(require,t,e){function r(){l=!1,s.length?f=s.concat(f):h=-1,f.length&&n()}function n(){if(!l){var t=setTimeout(r);l=!0;for(var e=f.length;e;){for(s=f,f=[];++h<e;)s&&s[h].run();h=-1,e=f.length}s=null,l=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var u=this,a=u.define;u.define=void 0;var s,c=e.exports={},f=[],l=!1,h=-1;return c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];f.push(new i(t,e)),1!==f.length||l||setTimeout(n,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=o,c.addListener=o,c.once=o,c.off=o,c.removeListener=o,c.removeAllListeners=o,c.emit=o,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0},u.define=a,e.exports}),System.registerDynamic("npm:process@0.11.2",["npm:process@0.11.2/browser"],!0,function(require,t,e){var r=this,n=r.define;return r.define=void 0,e.exports=require("npm:process@0.11.2/browser"),r.define=n,e.exports}),System.registerDynamic("github:jspm/nodelibs-process@0.1.2/index",["npm:process@0.11.2"],!0,function(require,t,e){var r=this,n=r.define;return r.define=void 0,e.exports=System._nodeRequire?process:require("npm:process@0.11.2"),r.define=n,e.exports}),System.registerDynamic("github:jspm/nodelibs-process@0.1.2",["github:jspm/nodelibs-process@0.1.2/index"],!0,function(require,t,e){var r=this,n=r.define;return r.define=void 0,e.exports=require("github:jspm/nodelibs-process@0.1.2/index"),r.define=n,e.exports}),System.registerDynamic("npm:lodash@3.10.1/index",["github:jspm/nodelibs-process@0.1.2"],!0,function(require,t,e){var r=this,n=r.define;return r.define=void 0,function(n){(function(){function n(t,e){if(t!==e){var r=null===t,n=t===k,i=t===t,o=null===e,u=e===k,a=e===e;if(t>e&&!o||!i||r&&!u&&a||n&&a)return 1;if(e>t&&!r||!a||o&&!n&&i||u&&i)return-1}return 0}function i(t,e,r){for(var n=t.length,i=r?n:-1;r?i--:++i<n;)if(e(t[i],i,t))return i;return-1}function o(t,e,r){if(e!==e)return g(t,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function u(t){return"function"==typeof t||!1}function a(t){return null==t?"":t+""}function s(t,e){for(var r=-1,n=t.length;++r<n&&e.indexOf(t.charAt(r))>-1;);return r}function c(t,e){for(var r=t.length;r--&&e.indexOf(t.charAt(r))>-1;);return r}function f(t,e){return n(t.criteria,e.criteria)||t.index-e.index}function l(t,e,r){for(var i=-1,o=t.criteria,u=e.criteria,a=o.length,s=r.length;++i<a;){var c=n(o[i],u[i]);if(c){if(i>=s)return c;var f=r[i];return c*("asc"===f||f===!0?1:-1)}}return t.index-e.index}function h(t){return Jt[t]}function p(t){return Ut[t]}function v(t,e,r){return e?t=Gt[t]:r&&(t=Kt[t]),"\\"+t}function d(t){return"\\"+Kt[t]}function g(t,e,r){for(var n=t.length,i=e+(r?0:-1);r?i--:++i<n;){var o=t[i];if(o!==o)return i}return-1}function y(t){return!!t&&"object"==typeof t}function b(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function _(t,e){for(var r=-1,n=t.length,i=-1,o=[];++r<n;)t[r]===e&&(t[r]=J,o[++i]=r);return o}function m(t,e){for(var r,n=-1,i=t.length,o=-1,u=[];++n<i;){var a=t[n],s=e?e(a,n,t):a;n&&r===s||(r=s,u[++o]=a)}return u}function x(t){for(var e=-1,r=t.length;++e<r&&b(t.charCodeAt(e)););return e}function R(t){for(var e=t.length;e--&&b(t.charCodeAt(e)););return e}function w(t){return zt[t]}function E(t){function e(t){if(y(t)&&!La(t)&&!(t instanceof X)){if(t instanceof b)return t;if(eu.call(t,"__chain__")&&eu.call(t,"__wrapped__"))return pn(t)}return new b(t)}function r(){}function b(t,e,r){this.__wrapped__=t,this.__actions__=r||[],this.__chain__=!!e}function X(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Cu,this.__views__=[]}function et(){var t=new X(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function nt(){if(this.__filtered__){var t=new X(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Jt(){var t=this.__wrapped__.value(),e=this.__dir__,r=La(t),n=0>e,i=r?t.length:0,o=Ur(0,i,this.__views__),u=o.start,a=o.end,s=a-u,c=n?a:u-1,f=this.__iteratees__,l=f.length,h=0,p=wu(s,this.__takeCount__);if(!r||V>i||i==s&&p==s)return rr(n&&r?t.reverse():t,this.__actions__);var v=[];t:for(;s--&&p>h;){c+=e;for(var d=-1,g=t[c];++d<l;){var y=f[d],b=y.iteratee,_=y.type,m=b(g);if(_==F)g=m;else if(!m){if(_==q)continue t;break t}}v[h++]=g}return v}function Ut(){this.__data__={}}function zt(t){return this.has(t)&&delete this.__data__[t]}function Ht(t){return"__proto__"==t?k:this.__data__[t]}function Gt(t){return"__proto__"!=t&&eu.call(this.__data__,t)}function Kt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Yt(t){var e=t?t.length:0;for(this.data={hash:yu(null),set:new lu};e--;)this.push(t[e])}function Xt(t,e){var r=t.data,n="string"==typeof e||Bi(e)?r.set.has(e):r.hash[e];return n?0:-1}function Zt(t){var e=this.data;"string"==typeof t||Bi(t)?e.set.add(t):e.hash[t]=!0}function Qt(t,e){for(var r=-1,n=t.length,i=-1,o=e.length,u=qo(n+o);++r<n;)u[r]=t[r];for(;++i<o;)u[r++]=e[i];return u}function te(t,e){var r=-1,n=t.length;for(e||(e=qo(n));++r<n;)e[r]=t[r];return e}function ee(t,e){for(var r=-1,n=t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function ie(t,e){for(var r=t.length;r--&&e(t[r],r,t)!==!1;);return t}function oe(t,e){for(var r=-1,n=t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function ue(t,e,r,n){for(var i=-1,o=t.length,u=n,a=u;++i<o;){var s=t[i],c=+e(s);r(c,u)&&(u=c,a=s)}return a}function ae(t,e){for(var r=-1,n=t.length,i=-1,o=[];++r<n;){var u=t[r];e(u,r,t)&&(o[++i]=u)}return o}function se(t,e){for(var r=-1,n=t.length,i=qo(n);++r<n;)i[r]=e(t[r],r,t);return i}function ce(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function fe(t,e,r,n){var i=-1,o=t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function le(t,e,r,n){var i=t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function he(t,e){for(var r=-1,n=t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function pe(t,e){for(var r=t.length,n=0;r--;)n+=+e(t[r])||0;return n}function ve(t,e){return t===k?e:t}function de(t,e,r,n){return t!==k&&eu.call(n,r)?t:e}function ge(t,e,r){for(var n=-1,i=Va(e),o=i.length;++n<o;){var u=i[n],a=t[u],s=r(a,e[u],u,t,e);(s===s?s===a:a!==a)&&(a!==k||u in t)||(t[u]=s)}return t}function ye(t,e){return null==e?t:_e(e,Va(e),t)}function be(t,e){for(var r=-1,n=null==t,i=!n&&Yr(t),o=i?t.length:0,u=e.length,a=qo(u);++r<u;){var s=e[r];i?a[r]=Xr(s,o)?t[s]:k:a[r]=n?k:t[s]}return a}function _e(t,e,r){r||(r={});for(var n=-1,i=e.length;++n<i;){var o=e[n];r[o]=t[o]}return r}function me(t,e,r){var n=typeof t;return"function"==n?e===k?t:or(t,e,r):null==t?Co:"object"==n?De(t):e===k?Bo(t):Ve(t,e)}function xe(t,e,r,n,i,o,u){var a;if(r&&(a=i?r(t,n,i):r(t)),a!==k)return a;if(!Bi(t))return t;var s=La(t);if(s){if(a=zr(t),!e)return te(t,a)}else{var c=nu.call(t),f=c==Y;if(c!=Q&&c!=U&&(!f||i))return $t[c]?Gr(t,c,e):i?t:{};if(a=Hr(f?{}:t),!e)return ye(a,t)}o||(o=[]),u||(u=[]);for(var l=o.length;l--;)if(o[l]==t)return u[l];return o.push(t),u.push(a),(s?ee:Pe)(t,function(n,i){a[i]=xe(n,e,r,i,t,o,u)}),a}function Re(t,e,r){if("function"!=typeof t)throw new Yo($);return hu(function(){t.apply(k,r)},e)}function we(t,e){var r=t?t.length:0,n=[];if(!r)return n;var i=-1,u=Fr(),a=u==o,s=a&&e.length>=V?vr(e):null,c=e.length;s&&(u=Xt,a=!1,e=s);t:for(;++i<r;){var f=t[i];if(a&&f===f){for(var l=c;l--;)if(e[l]===f)continue t;n.push(f)}else u(e,f,0)<0&&n.push(f)}return n}function Ee(t,e){var r=!0;return Ou(t,function(t,n,i){return r=!!e(t,n,i)}),r}function ke(t,e,r,n){var i=n,o=i;return Ou(t,function(t,u,a){var s=+e(t,u,a);(r(s,i)||s===n&&s===o)&&(i=s,o=t)}),o}function Se(t,e,r,n){var i=t.length;for(r=null==r?0:+r||0,0>r&&(r=-r>i?0:i+r),n=n===k||n>i?i:+n||0,0>n&&(n+=i),i=r>n?0:n>>>0,r>>>=0;i>r;)t[r++]=e;return t}function je(t,e){var r=[];return Ou(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function Ce(t,e,r,n){var i;return r(t,function(t,r,o){return e(t,r,o)?(i=n?r:t,!1):void 0}),i}function Le(t,e,r,n){n||(n=[]);for(var i=-1,o=t.length;++i<o;){var u=t[i];y(u)&&Yr(u)&&(r||La(u)||ki(u))?e?Le(u,e,r,n):ce(n,u):r||(n[n.length]=u)}return n}function Ie(t,e){return Wu(t,e,to)}function Pe(t,e){return Wu(t,e,Va)}function Ae(t,e){return Du(t,e,Va)}function Me(t,e){for(var r=-1,n=e.length,i=-1,o=[];++r<n;){var u=e[r];Mi(t[u])&&(o[++i]=u)}return o}function Be(t,e,r){if(null!=t){r!==k&&r in ln(t)&&(e=[r]);for(var n=0,i=e.length;null!=t&&i>n;)t=t[e[n++]];return n&&n==i?t:k}}function Ne(t,e,r,n,i,o){return t===e?!0:null==t||null==e||!Bi(t)&&!y(e)?t!==t&&e!==e:Oe(t,e,Ne,r,n,i,o)}function Oe(t,e,r,n,i,o,u){var a=La(t),s=La(e),c=z,f=z;a||(c=nu.call(t),c==U?c=Q:c!=Q&&(a=$i(t))),s||(f=nu.call(e),f==U?f=Q:f!=Q&&(s=$i(e)));var l=c==Q,h=f==Q,p=c==f;if(p&&!a&&!l)return Wr(t,e,c);if(!i){var v=l&&eu.call(t,"__wrapped__"),d=h&&eu.call(e,"__wrapped__");if(v||d)return r(v?t.value():t,d?e.value():e,n,i,o,u)}if(!p)return!1;o||(o=[]),u||(u=[]);for(var g=o.length;g--;)if(o[g]==t)return u[g]==e;o.push(t),u.push(e);var y=(a?Tr:Dr)(t,e,r,n,i,o,u);return o.pop(),u.pop(),y}function Te(t,e,r){var n=e.length,i=n,o=!r;if(null==t)return!i;for(t=ln(t);n--;){var u=e[n];if(o&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++n<i;){u=e[n];var a=u[0],s=t[a],c=u[1];if(o&&u[2]){if(s===k&&!(a in t))return!1}else{var f=r?r(s,c,a):k;if(!(f===k?Ne(c,s,r,!0):f))return!1}}return!0}function We(t,e){var r=-1,n=Yr(t)?qo(t.length):[];return Ou(t,function(t,i,o){n[++r]=e(t,i,o)}),n}function De(t){var e=$r(t);if(1==e.length&&e[0][2]){var r=e[0][0],n=e[0][1];return function(t){return null==t?!1:t[r]===n&&(n!==k||r in ln(t))}}return function(t){return Te(t,e)}}function Ve(t,e){var r=La(t),n=Qr(t)&&rn(e),i=t+"";return t=hn(t),function(o){if(null==o)return!1;var u=i;if(o=ln(o),(r||!n)&&!(u in o)){if(o=1==t.length?o:Be(o,Ge(t,0,-1)),null==o)return!1;u=Sn(t),o=ln(o)}return o[u]===e?e!==k||u in o:Ne(e,o[u],k,!0)}}function qe(t,e,r,n,i){if(!Bi(t))return t;var o=Yr(e)&&(La(e)||$i(e)),u=o?k:Va(e);return ee(u||e,function(a,s){if(u&&(s=a,a=e[s]),y(a))n||(n=[]),i||(i=[]),Fe(t,e,s,qe,r,n,i);else{var c=t[s],f=r?r(c,a,s,t,e):k,l=f===k;l&&(f=a),f===k&&(!o||s in t)||!l&&(f===f?f===c:c!==c)||(t[s]=f)}}),t}function Fe(t,e,r,n,i,o,u){for(var a=o.length,s=e[r];a--;)if(o[a]==s)return void(t[r]=u[a]);var c=t[r],f=i?i(c,s,r,t,e):k,l=f===k;l&&(f=s,Yr(s)&&(La(s)||$i(s))?f=La(c)?c:Yr(c)?te(c):[]:Vi(s)||ki(s)?f=ki(c)?Gi(c):Vi(c)?c:{}:l=!1),o.push(s),u.push(f),l?t[r]=n(f,s,i,o,u):(f===f?f!==c:c===c)&&(t[r]=f)}function $e(t){return function(e){return null==e?k:e[t]}}function Je(t){var e=t+"";return t=hn(t),function(r){return Be(r,t,e)}}function Ue(t,e){for(var r=t?e.length:0;r--;){var n=e[r];if(n!=i&&Xr(n)){var i=n;pu.call(t,n,1)}}return t}function ze(t,e){return t+bu(Su()*(e-t+1))}function He(t,e,r,n,i){return i(t,function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)}),r}function Ge(t,e,r){var n=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),r=r===k||r>i?i:+r||0,0>r&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=qo(i);++n<i;)o[n]=t[n+e];return o}function Ke(t,e){var r;return Ou(t,function(t,n,i){return r=e(t,n,i),!r}),!!r}function Ye(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function Xe(t,e,r){var n=Vr(),i=-1;e=se(e,function(t){return n(t)});var o=We(t,function(t){var r=se(e,function(e){return e(t)});return{criteria:r,index:++i,value:t}});return Ye(o,function(t,e){return l(t,e,r)})}function Ze(t,e){var r=0;return Ou(t,function(t,n,i){r+=+e(t,n,i)||0}),r}function Qe(t,e){var r=-1,n=Fr(),i=t.length,u=n==o,a=u&&i>=V,s=a?vr():null,c=[];s?(n=Xt,u=!1):(a=!1,s=e?[]:c);t:for(;++r<i;){var f=t[r],l=e?e(f,r,t):f;if(u&&f===f){for(var h=s.length;h--;)if(s[h]===l)continue t;e&&s.push(l),c.push(f)}else n(s,l,0)<0&&((e||a)&&s.push(l),c.push(f))}return c}function tr(t,e){for(var r=-1,n=e.length,i=qo(n);++r<n;)i[r]=t[e[r]];return i}function er(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Ge(t,n?0:o,n?o+1:i):Ge(t,n?o+1:0,n?i:o)}function rr(t,e){var r=t;r instanceof X&&(r=r.value());for(var n=-1,i=e.length;++n<i;){var o=e[n];r=o.func.apply(o.thisArg,ce([r],o.args))}return r}function nr(t,e,r){var n=0,i=t?t.length:n;if("number"==typeof e&&e===e&&Pu>=i){for(;i>n;){var o=n+i>>>1,u=t[o];(r?e>=u:e>u)&&null!==u?n=o+1:i=o}return i}return ir(t,e,Co,r)}function ir(t,e,r,n){e=r(e);for(var i=0,o=t?t.length:0,u=e!==e,a=null===e,s=e===k;o>i;){var c=bu((i+o)/2),f=r(t[c]),l=f!==k,h=f===f;if(u)var p=h||n;else p=a?h&&l&&(n||null!=f):s?h&&(n||l):null==f?!1:n?e>=f:e>f;p?i=c+1:o=c}return wu(o,Iu)}function or(t,e,r){if("function"!=typeof t)return Co;if(e===k)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)};case 5:return function(r,n,i,o,u){return t.call(e,r,n,i,o,u)}}return function(){return t.apply(e,arguments)}}function ur(t){var e=new uu(t.byteLength),r=new vu(e);return r.set(new vu(t)),e}function ar(t,e,r){for(var n=r.length,i=-1,o=Ru(t.length-n,0),u=-1,a=e.length,s=qo(a+o);++u<a;)s[u]=e[u];for(;++i<n;)s[r[i]]=t[i];for(;o--;)s[u++]=t[i++];return s}function sr(t,e,r){for(var n=-1,i=r.length,o=-1,u=Ru(t.length-i,0),a=-1,s=e.length,c=qo(u+s);++o<u;)c[o]=t[o];for(var f=o;++a<s;)c[f+a]=e[a];for(;++n<i;)c[f+r[n]]=t[o++];return c}function cr(t,e){return function(r,n,i){var o=e?e():{};if(n=Vr(n,i,3),La(r))for(var u=-1,a=r.length;++u<a;){var s=r[u];t(o,s,n(s,u,r),r)}else Ou(r,function(e,r,i){t(o,e,n(e,r,i),i)});return o}}function fr(t){return yi(function(e,r){var n=-1,i=null==e?0:r.length,o=i>2?r[i-2]:k,u=i>2?r[2]:k,a=i>1?r[i-1]:k;for("function"==typeof o?(o=or(o,a,5),i-=2):(o="function"==typeof a?a:k,i-=o?1:0),u&&Zr(r[0],r[1],u)&&(o=3>i?k:o,i=1);++n<i;){var s=r[n];s&&t(e,s,o)}return e})}function lr(t,e){return function(r,n){var i=r?Fu(r):0;if(!en(i))return t(r,n);for(var o=e?i:-1,u=ln(r);(e?o--:++o<i)&&n(u[o],o,u)!==!1;);return r}}function hr(t){return function(e,r,n){for(var i=ln(e),o=n(e),u=o.length,a=t?u:-1;t?a--:++a<u;){var s=o[a];if(r(i[s],s,i)===!1)break}return e}}function pr(t,e){function r(){var i=this&&this!==re&&this instanceof r?n:t;return i.apply(e,arguments)}var n=gr(t);return r}function vr(t){return yu&&lu?new Yt(t):null}function dr(t){return function(e){for(var r=-1,n=ko(fo(e)),i=n.length,o="";++r<i;)o=t(o,n[r],r);return o}}function gr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Nu(t.prototype),n=t.apply(r,e);return Bi(n)?n:r}}function yr(t){function e(r,n,i){i&&Zr(r,n,i)&&(n=k);var o=Or(r,t,k,k,k,k,k,n);return o.placeholder=e.placeholder,o}return e}function br(t,e){return yi(function(r){var n=r[0];return null==n?n:(r.push(e),t.apply(k,r))})}function _r(t,e){return function(r,n,i){if(i&&Zr(r,n,i)&&(n=k),n=Vr(n,i,3),1==n.length){r=La(r)?r:fn(r);var o=ue(r,n,t,e);if(!r.length||o!==e)return o}return ke(r,n,t,e)}}function mr(t,e){return function(r,n,o){if(n=Vr(n,o,3),La(r)){var u=i(r,n,e);return u>-1?r[u]:k}return Ce(r,n,t)}}function xr(t){return function(e,r,n){return e&&e.length?(r=Vr(r,n,3),i(e,r,t)):-1}}function Rr(t){return function(e,r,n){return r=Vr(r,n,3),Ce(e,r,t,!0)}}function wr(t){return function(){for(var e,r=arguments.length,n=t?r:-1,i=0,o=qo(r);t?n--:++n<r;){var u=o[i++]=arguments[n];if("function"!=typeof u)throw new Yo($);!e&&b.prototype.thru&&"wrapper"==qr(u)&&(e=new b([],!0))}for(n=e?-1:r;++n<r;){u=o[n];var a=qr(u),s="wrapper"==a?qu(u):k;e=s&&tn(s[0])&&s[1]==(B|I|A|N)&&!s[4].length&&1==s[9]?e[qr(s[0])].apply(e,s[3]):1==u.length&&tn(u)?e[a]():e.thru(u)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&La(n)&&n.length>=V)return e.plant(n).value();for(var i=0,u=r?o[i].apply(this,t):n;++i<r;)u=o[i].call(this,u);return u}}}function Er(t,e){return function(r,n,i){return"function"==typeof n&&i===k&&La(r)?t(r,n):e(r,or(n,i,3))}}function kr(t){return function(e,r,n){return("function"!=typeof r||n!==k)&&(r=or(r,n,3)),t(e,r,to)}}function Sr(t){return function(e,r,n){return("function"!=typeof r||n!==k)&&(r=or(r,n,3)),t(e,r)}}function jr(t){return function(e,r,n){var i={};return r=Vr(r,n,3),Pe(e,function(e,n,o){var u=r(e,n,o);n=t?u:n,e=t?e:u,i[n]=e}),i}}function Cr(t){return function(e,r,n){return e=a(e),(t?e:"")+Ar(e,r,n)+(t?"":e)}}function Lr(t){var e=yi(function(r,n){var i=_(n,e.placeholder);return Or(r,t,k,n,i)});return e}function Ir(t,e){return function(r,n,i,o){var u=arguments.length<3;return"function"==typeof n&&o===k&&La(r)?t(r,n,i,u):He(r,Vr(n,o,4),i,u,e)}}function Pr(t,e,r,n,i,o,u,a,s,c){function f(){for(var b=arguments.length,m=b,x=qo(b);m--;)x[m]=arguments[m];if(n&&(x=ar(x,n,i)),o&&(x=sr(x,o,u)),v||g){var R=f.placeholder,w=_(x,R);if(b-=w.length,c>b){var E=a?te(a):k,S=Ru(c-b,0),L=v?w:k,I=v?k:w,P=v?x:k,B=v?k:x;e|=v?A:M,e&=~(v?M:A),d||(e&=~(j|C));var N=[t,e,r,P,L,B,I,E,s,S],O=Pr.apply(k,N);return tn(t)&&$u(O,N),O.placeholder=R,O}}var T=h?r:this,W=p?T[t]:t;return a&&(x=sn(x,a)),l&&s<x.length&&(x.length=s),this&&this!==re&&this instanceof f&&(W=y||gr(t)),W.apply(T,x)}var l=e&B,h=e&j,p=e&C,v=e&I,d=e&L,g=e&P,y=p?k:gr(t);return f}function Ar(t,e,r){var n=t.length;if(e=+e,n>=e||!mu(e))return"";var i=e-n;return r=null==r?" ":r+"",yo(r,gu(i/r.length)).slice(0,i)}function Mr(t,e,r,n){function i(){for(var e=-1,a=arguments.length,s=-1,c=n.length,f=qo(c+a);++s<c;)f[s]=n[s];for(;a--;)f[s++]=arguments[++e];var l=this&&this!==re&&this instanceof i?u:t;return l.apply(o?r:this,f)}var o=e&j,u=gr(t);return i}function Br(t){var e=Uo[t];return function(t,r){return r=r===k?0:+r||0,r?(r=cu(10,r),e(t*r)/r):e(t)}}function Nr(t){return function(e,r,n,i){var o=Vr(n);return null==n&&o===me?nr(e,r,t):ir(e,r,o(n,i,1),t)}}function Or(t,e,r,n,i,o,u,a){var s=e&C;if(!s&&"function"!=typeof t)throw new Yo($);var c=n?n.length:0;if(c||(e&=~(A|M),n=i=k),c-=i?i.length:0,e&M){var f=n,l=i;n=i=k}var h=s?k:qu(t),p=[t,e,r,n,i,f,l,o,u,a];if(h&&(nn(p,h),e=p[1],a=p[9]),p[9]=null==a?s?0:t.length:Ru(a-c,0)||0,e==j)var v=pr(p[0],p[2]);else v=e!=A&&e!=(j|A)||p[4].length?Pr.apply(k,p):Mr.apply(k,p);var d=h?Vu:$u;return d(v,p)}function Tr(t,e,r,n,i,o,u){var a=-1,s=t.length,c=e.length;if(s!=c&&!(i&&c>s))return!1;for(;++a<s;){var f=t[a],l=e[a],h=n?n(i?l:f,i?f:l,a):k;if(h!==k){if(h)continue;return!1}if(i){if(!he(e,function(t){return f===t||r(f,t,n,i,o,u)}))return!1}else if(f!==l&&!r(f,l,n,i,o,u))return!1}return!0}function Wr(t,e,r){switch(r){case H:case G:return+t==+e;case K:return t.name==e.name&&t.message==e.message;case Z:return t!=+t?e!=+e:t==+e;case tt:case rt:return t==e+""}return!1}function Dr(t,e,r,n,i,o,u){var a=Va(t),s=a.length,c=Va(e),f=c.length;if(s!=f&&!i)return!1;for(var l=s;l--;){var h=a[l];if(!(i?h in e:eu.call(e,h)))return!1}for(var p=i;++l<s;){h=a[l];var v=t[h],d=e[h],g=n?n(i?d:v,i?v:d,h):k;if(!(g===k?r(v,d,n,i,o,u):g))return!1;p||(p="constructor"==h)}if(!p){var y=t.constructor,b=e.constructor;if(y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b))return!1}return!0}function Vr(t,r,n){var i=e.callback||So;return i=i===So?me:i,n?i(t,r,n):i}function qr(t){for(var e=t.name,r=Bu[e],n=r?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function Fr(t,r,n){var i=e.indexOf||En;return i=i===En?o:i,t?i(t,r,n):i}function $r(t){for(var e=eo(t),r=e.length;r--;)e[r][2]=rn(e[r][1]);return e}function Jr(t,e){var r=null==t?k:t[e];return Ti(r)?r:k}function Ur(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=wu(e,t+u);break;case"takeRight":t=Ru(t,e-u)}}return{start:t,end:e}}function zr(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&eu.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Hr(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Ho),new e}function Gr(t,e,r){var n=t.constructor;switch(e){case it:return ur(t);case H:case G:return new n(+t);case ot:case ut:case at:case st:case ct:case ft:case lt:case ht:case pt:var i=t.buffer;return new n(r?ur(i):i,t.byteOffset,t.length);case Z:case rt:return new n(t);case tt:var o=new n(t.source,At.exec(t));o.lastIndex=t.lastIndex}return o}function Kr(t,e,r){null==t||Qr(e,t)||(e=hn(e),t=1==e.length?t:Be(t,Ge(e,0,-1)),e=Sn(e));var n=null==t?t:t[e];return null==n?k:n.apply(t,r)}function Yr(t){return null!=t&&en(Fu(t))}function Xr(t,e){return t="number"==typeof t||Nt.test(t)?+t:-1,e=null==e?Au:e,t>-1&&t%1==0&&e>t}function Zr(t,e,r){if(!Bi(r))return!1;var n=typeof e;if("number"==n?Yr(r)&&Xr(e,r.length):"string"==n&&e in r){var i=r[e];return t===t?t===i:i!==i}return!1}function Qr(t,e){var r=typeof t;if("string"==r&&kt.test(t)||"number"==r)return!0;if(La(t))return!1;var n=!Et.test(t);return n||null!=e&&t in ln(e)}function tn(t){var r=qr(t);if(!(r in X.prototype))return!1;var n=e[r];if(t===n)return!0;var i=qu(n);return!!i&&t===i[0]}function en(t){return"number"==typeof t&&t>-1&&t%1==0&&Au>=t}function rn(t){return t===t&&!Bi(t)}function nn(t,e){var r=t[1],n=e[1],i=r|n,o=B>i,u=n==B&&r==I||n==B&&r==N&&t[7].length<=e[8]||n==(B|N)&&r==I;if(!o&&!u)return t;n&j&&(t[2]=e[2],i|=r&j?0:L);var a=e[3];if(a){var s=t[3];t[3]=s?ar(s,a,e[4]):te(a),t[4]=s?_(t[3],J):te(e[4])}return a=e[5],a&&(s=t[5],t[5]=s?sr(s,a,e[6]):te(a),t[6]=s?_(t[5],J):te(e[6])),a=e[7],a&&(t[7]=te(a)),n&B&&(t[8]=null==t[8]?e[8]:wu(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function on(t,e){return t===k?e:Ia(t,e,on)}function un(t,e){t=ln(t);for(var r=-1,n=e.length,i={};++r<n;){var o=e[r];o in t&&(i[o]=t[o])}return i}function an(t,e){var r={};return Ie(t,function(t,n,i){e(t,n,i)&&(r[n]=t)}),r}function sn(t,e){for(var r=t.length,n=wu(e.length,r),i=te(t);n--;){var o=e[n];t[n]=Xr(o,r)?i[o]:k}return t}function cn(t){for(var e=to(t),r=e.length,n=r&&t.length,i=!!n&&en(n)&&(La(t)||ki(t)),o=-1,u=[];++o<r;){var a=e[o];(i&&Xr(a,n)||eu.call(t,a))&&u.push(a)}return u}function fn(t){return null==t?[]:Yr(t)?Bi(t)?t:Ho(t):oo(t)}function ln(t){return Bi(t)?t:Ho(t)}function hn(t){if(La(t))return t;var e=[];return a(t).replace(St,function(t,r,n,i){e.push(n?i.replace(It,"$1"):r||t)}),e}function pn(t){return t instanceof X?t.clone():new b(t.__wrapped__,t.__chain__,te(t.__actions__))}function vn(t,e,r){e=(r?Zr(t,e,r):null==e)?1:Ru(bu(e)||1,1);for(var n=0,i=t?t.length:0,o=-1,u=qo(gu(i/e));i>n;)u[++o]=Ge(t,n,n+=e);return u}function dn(t){for(var e=-1,r=t?t.length:0,n=-1,i=[];++e<r;){var o=t[e];o&&(i[++n]=o)}return i}function gn(t,e,r){var n=t?t.length:0;return n?((r?Zr(t,e,r):null==e)&&(e=1),Ge(t,0>e?0:e)):[]}function yn(t,e,r){var n=t?t.length:0;return n?((r?Zr(t,e,r):null==e)&&(e=1),e=n-(+e||0),Ge(t,0,0>e?0:e)):[]}function bn(t,e,r){return t&&t.length?er(t,Vr(e,r,3),!0,!0):[]}function _n(t,e,r){return t&&t.length?er(t,Vr(e,r,3),!0):[]}function mn(t,e,r,n){var i=t?t.length:0;return i?(r&&"number"!=typeof r&&Zr(t,e,r)&&(r=0,n=i),Se(t,e,r,n)):[]}function xn(t){return t?t[0]:k}function Rn(t,e,r){var n=t?t.length:0;return r&&Zr(t,e,r)&&(e=!1),n?Le(t,e):[]}function wn(t){var e=t?t.length:0;return e?Le(t,!0):[]}function En(t,e,r){var n=t?t.length:0;if(!n)return-1;if("number"==typeof r)r=0>r?Ru(n+r,0):r;else if(r){var i=nr(t,e);return n>i&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return o(t,e,r||0)}function kn(t){return yn(t,1)}function Sn(t){var e=t?t.length:0;return e?t[e-1]:k}function jn(t,e,r){var n=t?t.length:0;if(!n)return-1;var i=n;if("number"==typeof r)i=(0>r?Ru(n+r,0):wu(r||0,n-1))+1;else if(r){i=nr(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return g(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Cn(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var r=0,n=Fr(),i=t.length;++r<i;)for(var o=0,u=t[r];(o=n(e,u,o))>-1;)pu.call(e,o,1);return e}function Ln(t,e,r){var n=[];if(!t||!t.length)return n;var i=-1,o=[],u=t.length;for(e=Vr(e,r,3);++i<u;){var a=t[i];e(a,i,t)&&(n.push(a),o.push(i))}return Ue(t,o),n}function In(t){return gn(t,1)}function Pn(t,e,r){var n=t?t.length:0;return n?(r&&"number"!=typeof r&&Zr(t,e,r)&&(e=0,r=n),Ge(t,e,r)):[]}function An(t,e,r){var n=t?t.length:0;return n?((r?Zr(t,e,r):null==e)&&(e=1),Ge(t,0,0>e?0:e)):[]}function Mn(t,e,r){var n=t?t.length:0;return n?((r?Zr(t,e,r):null==e)&&(e=1),e=n-(+e||0),Ge(t,0>e?0:e)):[]}function Bn(t,e,r){return t&&t.length?er(t,Vr(e,r,3),!1,!0):[]}function Nn(t,e,r){return t&&t.length?er(t,Vr(e,r,3)):[]}function On(t,e,r,n){var i=t?t.length:0;if(!i)return[];null!=e&&"boolean"!=typeof e&&(n=r,r=Zr(t,e,n)?k:e,e=!1);var u=Vr();return(null!=r||u!==me)&&(r=u(r,n,3)),e&&Fr()==o?m(t,r):Qe(t,r)}function Tn(t){if(!t||!t.length)return[];var e=-1,r=0;t=ae(t,function(t){return Yr(t)?(r=Ru(t.length,r),!0):void 0});for(var n=qo(r);++e<r;)n[e]=se(t,$e(e));return n}function Wn(t,e,r){var n=t?t.length:0;if(!n)return[];var i=Tn(t);return null==e?i:(e=or(e,r,4),se(i,function(t){return fe(t,e,k,!0)}))}function Dn(){for(var t=-1,e=arguments.length;++t<e;){var r=arguments[t];if(Yr(r))var n=n?ce(we(n,r),we(r,n)):r}return n?Qe(n):[]}function Vn(t,e){var r=-1,n=t?t.length:0,i={};for(!n||e||La(t[0])||(e=[]);++r<n;){var o=t[r];e?i[o]=e[r]:o&&(i[o[0]]=o[1])}return i}function qn(t){var r=e(t);return r.__chain__=!0,r}function Fn(t,e,r){return e.call(r,t),t}function $n(t,e,r){return e.call(r,t)}function Jn(){return qn(this)}function Un(){return new b(this.value(),this.__chain__)}function zn(t){for(var e,n=this;n instanceof r;){var i=pn(n);e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function Hn(){var t=this.__wrapped__,e=function(t){return r&&r.__dir__<0?t:t.reverse()};if(t instanceof X){var r=t;return this.__actions__.length&&(r=new X(this)),r=r.reverse(),r.__actions__.push({func:$n,args:[e],thisArg:k}),new b(r,this.__chain__)}return this.thru(e)}function Gn(){return this.value()+""}function Kn(){return rr(this.__wrapped__,this.__actions__)}function Yn(t,e,r){var n=La(t)?oe:Ee;return r&&Zr(t,e,r)&&(e=k),("function"!=typeof e||r!==k)&&(e=Vr(e,r,3)),n(t,e)}function Xn(t,e,r){var n=La(t)?ae:je;return e=Vr(e,r,3),n(t,e)}function Zn(t,e){return ia(t,De(e))}function Qn(t,e,r,n){var i=t?Fu(t):0;return en(i)||(t=oo(t),i=t.length),r="number"!=typeof r||n&&Zr(e,r,n)?0:0>r?Ru(i+r,0):r||0,"string"==typeof t||!La(t)&&Fi(t)?i>=r&&t.indexOf(e,r)>-1:!!i&&Fr(t,e,r)>-1}function ti(t,e,r){var n=La(t)?se:We;return e=Vr(e,r,3),n(t,e)}function ei(t,e){return ti(t,Bo(e))}function ri(t,e,r){var n=La(t)?ae:je;return e=Vr(e,r,3),n(t,function(t,r,n){return!e(t,r,n)})}function ni(t,e,r){if(r?Zr(t,e,r):null==e){t=fn(t);var n=t.length;return n>0?t[ze(0,n-1)]:k}var i=-1,o=Hi(t),n=o.length,u=n-1;for(e=wu(0>e?0:+e||0,n);++i<e;){var a=ze(i,u),s=o[a];o[a]=o[i],o[i]=s}return o.length=e,o}function ii(t){return ni(t,Cu)}function oi(t){var e=t?Fu(t):0;return en(e)?e:Va(t).length}function ui(t,e,r){var n=La(t)?he:Ke;return r&&Zr(t,e,r)&&(e=k),("function"!=typeof e||r!==k)&&(e=Vr(e,r,3)),n(t,e)}function ai(t,e,r){if(null==t)return[];r&&Zr(t,e,r)&&(e=k);var n=-1;e=Vr(e,r,3);var i=We(t,function(t,r,i){return{criteria:e(t,r,i),index:++n,value:t}});return Ye(i,f)}function si(t,e,r,n){return null==t?[]:(n&&Zr(e,r,n)&&(r=k),La(e)||(e=null==e?[]:[e]),La(r)||(r=null==r?[]:[r]),Xe(t,e,r))}function ci(t,e){return Xn(t,De(e))}function fi(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Yo($);var r=t;t=e,e=r}return t=mu(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function li(t,e,r){return r&&Zr(t,e,r)&&(e=k),e=t&&null==e?t.length:Ru(+e||0,0),Or(t,B,k,k,k,k,e)}function hi(t,e){var r;if("function"!=typeof e){if("function"!=typeof t)throw new Yo($);var n=t;t=e,e=n}return function(){return--t>0&&(r=e.apply(this,arguments)),1>=t&&(e=k),r}}function pi(t,e,r){function n(){p&&au(p),c&&au(c),d=0,c=p=v=k}function i(e,r){r&&au(r),c=p=v=k,e&&(d=da(),f=t.apply(h,s),p||c||(s=h=k))}function o(){var t=e-(da()-l);0>=t||t>e?i(v,c):p=hu(o,t)}function u(){i(y,p)}function a(){if(s=arguments,l=da(),h=this,v=y&&(p||!b),g===!1)var r=b&&!p;else{c||b||(d=l);var n=g-(l-d),i=0>=n||n>g;i?(c&&(c=au(c)),d=l,f=t.apply(h,s)):c||(c=hu(u,n))}return i&&p?p=au(p):p||e===g||(p=hu(o,e)),r&&(i=!0,f=t.apply(h,s)),!i||p||c||(s=h=k),f}var s,c,f,l,h,p,v,d=0,g=!1,y=!0;if("function"!=typeof t)throw new Yo($);if(e=0>e?0:+e||0,r===!0){var b=!0;y=!1}else Bi(r)&&(b=!!r.leading,g="maxWait"in r&&Ru(+r.maxWait||0,e),y="trailing"in r?!!r.trailing:y);return a.cancel=n,a}function vi(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Yo($);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var u=t.apply(this,n);return r.cache=o.set(i,u),u};return r.cache=new vi.Cache,r}function di(t){if("function"!=typeof t)throw new Yo($);return function(){return!t.apply(this,arguments)}}function gi(t){return hi(2,t)}function yi(t,e){if("function"!=typeof t)throw new Yo($);return e=Ru(e===k?t.length-1:+e||0,0),function(){for(var r=arguments,n=-1,i=Ru(r.length-e,0),o=qo(i);++n<i;)o[n]=r[e+n];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,r[0],o);case 2:return t.call(this,r[0],r[1],o)}var u=qo(e+1);for(n=-1;++n<e;)u[n]=r[n];return u[e]=o,t.apply(this,u)}}function bi(t){if("function"!=typeof t)throw new Yo($);return function(e){return t.apply(this,e)}}function _i(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Yo($);return r===!1?n=!1:Bi(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),pi(t,e,{leading:n,maxWait:+e,
trailing:i})}function mi(t,e){return e=null==e?Co:e,Or(e,A,k,[t],[])}function xi(t,e,r,n){return e&&"boolean"!=typeof e&&Zr(t,e,r)?e=!1:"function"==typeof e&&(n=r,r=e,e=!1),"function"==typeof r?xe(t,e,or(r,n,1)):xe(t,e)}function Ri(t,e,r){return"function"==typeof e?xe(t,!0,or(e,r,1)):xe(t,!0)}function wi(t,e){return t>e}function Ei(t,e){return t>=e}function ki(t){return y(t)&&Yr(t)&&eu.call(t,"callee")&&!fu.call(t,"callee")}function Si(t){return t===!0||t===!1||y(t)&&nu.call(t)==H}function ji(t){return y(t)&&nu.call(t)==G}function Ci(t){return!!t&&1===t.nodeType&&y(t)&&!Vi(t)}function Li(t){return null==t?!0:Yr(t)&&(La(t)||Fi(t)||ki(t)||y(t)&&Mi(t.splice))?!t.length:!Va(t).length}function Ii(t,e,r,n){r="function"==typeof r?or(r,n,3):k;var i=r?r(t,e):k;return i===k?Ne(t,e,r):!!i}function Pi(t){return y(t)&&"string"==typeof t.message&&nu.call(t)==K}function Ai(t){return"number"==typeof t&&mu(t)}function Mi(t){return Bi(t)&&nu.call(t)==Y}function Bi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ni(t,e,r,n){return r="function"==typeof r?or(r,n,3):k,Te(t,$r(e),r)}function Oi(t){return Di(t)&&t!=+t}function Ti(t){return null==t?!1:Mi(t)?ou.test(tu.call(t)):y(t)&&Bt.test(t)}function Wi(t){return null===t}function Di(t){return"number"==typeof t||y(t)&&nu.call(t)==Z}function Vi(t){var e;if(!y(t)||nu.call(t)!=Q||ki(t)||!eu.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var r;return Ie(t,function(t,e){r=e}),r===k||eu.call(t,r)}function qi(t){return Bi(t)&&nu.call(t)==tt}function Fi(t){return"string"==typeof t||y(t)&&nu.call(t)==rt}function $i(t){return y(t)&&en(t.length)&&!!Ft[nu.call(t)]}function Ji(t){return t===k}function Ui(t,e){return e>t}function zi(t,e){return e>=t}function Hi(t){var e=t?Fu(t):0;return en(e)?e?te(t):[]:oo(t)}function Gi(t){return _e(t,to(t))}function Ki(t,e,r){var n=Nu(t);return r&&Zr(t,e,r)&&(e=k),e?ye(n,e):n}function Yi(t){return Me(t,to(t))}function Xi(t,e,r){var n=null==t?k:Be(t,hn(e),e+"");return n===k?r:n}function Zi(t,e){if(null==t)return!1;var r=eu.call(t,e);if(!r&&!Qr(e)){if(e=hn(e),t=1==e.length?t:Be(t,Ge(e,0,-1)),null==t)return!1;e=Sn(e),r=eu.call(t,e)}return r||en(t.length)&&Xr(e,t.length)&&(La(t)||ki(t))}function Qi(t,e,r){r&&Zr(t,e,r)&&(e=k);for(var n=-1,i=Va(t),o=i.length,u={};++n<o;){var a=i[n],s=t[a];e?eu.call(u,s)?u[s].push(a):u[s]=[a]:u[s]=a}return u}function to(t){if(null==t)return[];Bi(t)||(t=Ho(t));var e=t.length;e=e&&en(e)&&(La(t)||ki(t))&&e||0;for(var r=t.constructor,n=-1,i="function"==typeof r&&r.prototype===t,o=qo(e),u=e>0;++n<e;)o[n]=n+"";for(var a in t)u&&Xr(a,e)||"constructor"==a&&(i||!eu.call(t,a))||o.push(a);return o}function eo(t){t=ln(t);for(var e=-1,r=Va(t),n=r.length,i=qo(n);++e<n;){var o=r[e];i[e]=[o,t[o]]}return i}function ro(t,e,r){var n=null==t?k:t[e];return n===k&&(null==t||Qr(e,t)||(e=hn(e),t=1==e.length?t:Be(t,Ge(e,0,-1)),n=null==t?k:t[Sn(e)]),n=n===k?r:n),Mi(n)?n.call(t):n}function no(t,e,r){if(null==t)return t;var n=e+"";e=null!=t[n]||Qr(e,t)?[n]:hn(e);for(var i=-1,o=e.length,u=o-1,a=t;null!=a&&++i<o;){var s=e[i];Bi(a)&&(i==u?a[s]=r:null==a[s]&&(a[s]=Xr(e[i+1])?[]:{})),a=a[s]}return t}function io(t,e,r,n){var i=La(t)||$i(t);if(e=Vr(e,n,4),null==r)if(i||Bi(t)){var o=t.constructor;r=i?La(t)?new o:[]:Nu(Mi(o)?o.prototype:k)}else r={};return(i?ee:Pe)(t,function(t,n,i){return e(r,t,n,i)}),r}function oo(t){return tr(t,Va(t))}function uo(t){return tr(t,to(t))}function ao(t,e,r){return e=+e||0,r===k?(r=e,e=0):r=+r||0,t>=wu(e,r)&&t<Ru(e,r)}function so(t,e,r){r&&Zr(t,e,r)&&(e=r=k);var n=null==t,i=null==e;if(null==r&&(i&&"boolean"==typeof t?(r=t,t=1):"boolean"==typeof e&&(r=e,i=!0)),n&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,r||t%1||e%1){var o=Su();return wu(t+o*(e-t+su("1e-"+((o+"").length-1))),e)}return ze(t,e)}function co(t){return t=a(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function fo(t){return t=a(t),t&&t.replace(Ot,h).replace(Lt,"")}function lo(t,e,r){t=a(t),e+="";var n=t.length;return r=r===k?n:wu(0>r?0:+r||0,n),r-=e.length,r>=0&&t.indexOf(e,r)==r}function ho(t){return t=a(t),t&&mt.test(t)?t.replace(bt,p):t}function po(t){return t=a(t),t&&Ct.test(t)?t.replace(jt,v):t||"(?:)"}function vo(t,e,r){t=a(t),e=+e;var n=t.length;if(n>=e||!mu(e))return t;var i=(e-n)/2,o=bu(i),u=gu(i);return r=Ar("",u,r),r.slice(0,o)+t+r}function go(t,e,r){return(r?Zr(t,e,r):null==e)?e=0:e&&(e=+e),t=mo(t),ku(t,e||(Mt.test(t)?16:10))}function yo(t,e){var r="";if(t=a(t),e=+e,1>e||!t||!mu(e))return r;do e%2&&(r+=t),e=bu(e/2),t+=t;while(e);return r}function bo(t,e,r){return t=a(t),r=null==r?0:wu(0>r?0:+r||0,t.length),t.lastIndexOf(e,r)==r}function _o(t,r,n){var i=e.templateSettings;n&&Zr(t,r,n)&&(r=n=k),t=a(t),r=ge(ye({},n||r),i,de);var o,u,s=ge(ye({},r.imports),i.imports,de),c=Va(s),f=tr(s,c),l=0,h=r.interpolate||Tt,p="__p += '",v=Go((r.escape||Tt).source+"|"+h.source+"|"+(h===wt?Pt:Tt).source+"|"+(r.evaluate||Tt).source+"|$","g"),g="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++qt+"]")+"\n";t.replace(v,function(e,r,n,i,a,s){return n||(n=i),p+=t.slice(l,s).replace(Wt,d),r&&(o=!0,p+="' +\n__e("+r+") +\n'"),a&&(u=!0,p+="';\n"+a+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),p+="';\n";var y=r.variable;y||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(vt,""):p).replace(dt,"$1").replace(gt,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var b=Xa(function(){return Jo(c,g+"return "+p).apply(k,f)});if(b.source=p,Pi(b))throw b;return b}function mo(t,e,r){var n=t;return(t=a(t))?(r?Zr(n,e,r):null==e)?t.slice(x(t),R(t)+1):(e+="",t.slice(s(t,e),c(t,e)+1)):t}function xo(t,e,r){var n=t;return t=a(t),t?(r?Zr(n,e,r):null==e)?t.slice(x(t)):t.slice(s(t,e+"")):t}function Ro(t,e,r){var n=t;return t=a(t),t?(r?Zr(n,e,r):null==e)?t.slice(0,R(t)+1):t.slice(0,c(t,e+"")+1):t}function wo(t,e,r){r&&Zr(t,e,r)&&(e=k);var n=O,i=T;if(null!=e)if(Bi(e)){var o="separator"in e?e.separator:o;n="length"in e?+e.length||0:n,i="omission"in e?a(e.omission):i}else n=+e||0;if(t=a(t),n>=t.length)return t;var u=n-i.length;if(1>u)return i;var s=t.slice(0,u);if(null==o)return s+i;if(qi(o)){if(t.slice(u).search(o)){var c,f,l=t.slice(0,u);for(o.global||(o=Go(o.source,(At.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(l);)f=c.index;s=s.slice(0,null==f?u:f)}}else if(t.indexOf(o,u)!=u){var h=s.lastIndexOf(o);h>-1&&(s=s.slice(0,h))}return s+i}function Eo(t){return t=a(t),t&&_t.test(t)?t.replace(yt,w):t}function ko(t,e,r){return r&&Zr(t,e,r)&&(e=k),t=a(t),t.match(e||Dt)||[]}function So(t,e,r){return r&&Zr(t,e,r)&&(e=k),y(t)?Lo(t):me(t,e)}function jo(t){return function(){return t}}function Co(t){return t}function Lo(t){return De(xe(t,!0))}function Io(t,e){return Ve(t,xe(e,!0))}function Po(t,e,r){if(null==r){var n=Bi(e),i=n?Va(e):k,o=i&&i.length?Me(e,i):k;(o?o.length:n)||(o=!1,r=e,e=t,t=this)}o||(o=Me(e,Va(e)));var u=!0,a=-1,s=Mi(t),c=o.length;r===!1?u=!1:Bi(r)&&"chain"in r&&(u=r.chain);for(;++a<c;){var f=o[a],l=e[f];t[f]=l,s&&(t.prototype[f]=function(e){return function(){var r=this.__chain__;if(u||r){var n=t(this.__wrapped__),i=n.__actions__=te(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),n.__chain__=r,n}return e.apply(t,ce([this.value()],arguments))}}(l))}return t}function Ao(){return re._=iu,this}function Mo(){}function Bo(t){return Qr(t)?$e(t):Je(t)}function No(t){return function(e){return Be(t,hn(e),e+"")}}function Oo(t,e,r){r&&Zr(t,e,r)&&(e=r=k),t=+t||0,r=null==r?1:+r||0,null==e?(e=t,t=0):e=+e||0;for(var n=-1,i=Ru(gu((e-t)/(r||1)),0),o=qo(i);++n<i;)o[n]=t,t+=r;return o}function To(t,e,r){if(t=bu(t),1>t||!mu(t))return[];var n=-1,i=qo(wu(t,Lu));for(e=or(e,r,1);++n<t;)Lu>n?i[n]=e(n):e(n);return i}function Wo(t){var e=++ru;return a(t)+e}function Do(t,e){return(+t||0)+(+e||0)}function Vo(t,e,r){return r&&Zr(t,e,r)&&(e=k),e=Vr(e,r,3),1==e.length?pe(La(t)?t:fn(t),e):Ze(t,e)}t=t?ne.defaults(re.Object(),t,ne.pick(re,Vt)):re;var qo=t.Array,Fo=t.Date,$o=t.Error,Jo=t.Function,Uo=t.Math,zo=t.Number,Ho=t.Object,Go=t.RegExp,Ko=t.String,Yo=t.TypeError,Xo=qo.prototype,Zo=Ho.prototype,Qo=Ko.prototype,tu=Jo.prototype.toString,eu=Zo.hasOwnProperty,ru=0,nu=Zo.toString,iu=re._,ou=Go("^"+tu.call(eu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uu=t.ArrayBuffer,au=t.clearTimeout,su=t.parseFloat,cu=Uo.pow,fu=Zo.propertyIsEnumerable,lu=Jr(t,"Set"),hu=t.setTimeout,pu=Xo.splice,vu=t.Uint8Array,du=Jr(t,"WeakMap"),gu=Uo.ceil,yu=Jr(Ho,"create"),bu=Uo.floor,_u=Jr(qo,"isArray"),mu=t.isFinite,xu=Jr(Ho,"keys"),Ru=Uo.max,wu=Uo.min,Eu=Jr(Fo,"now"),ku=t.parseInt,Su=Uo.random,ju=zo.NEGATIVE_INFINITY,Cu=zo.POSITIVE_INFINITY,Lu=4294967295,Iu=Lu-1,Pu=Lu>>>1,Au=9007199254740991,Mu=du&&new du,Bu={};e.support={};e.templateSettings={escape:xt,evaluate:Rt,interpolate:wt,variable:"",imports:{_:e}};var Nu=function(){function t(){}return function(e){if(Bi(e)){t.prototype=e;var r=new t;t.prototype=k}return r||{}}}(),Ou=lr(Pe),Tu=lr(Ae,!0),Wu=hr(),Du=hr(!0),Vu=Mu?function(t,e){return Mu.set(t,e),t}:Co,qu=Mu?function(t){return Mu.get(t)}:Mo,Fu=$e("length"),$u=function(){var t=0,e=0;return function(r,n){var i=da(),o=D-(i-e);if(e=i,o>0){if(++t>=W)return r}else t=0;return Vu(r,n)}}(),Ju=yi(function(t,e){return y(t)&&Yr(t)?we(t,Le(e,!1,!0)):[]}),Uu=xr(),zu=xr(!0),Hu=yi(function(t){for(var e=t.length,r=e,n=qo(l),i=Fr(),u=i==o,a=[];r--;){var s=t[r]=Yr(s=t[r])?s:[];n[r]=u&&s.length>=120?vr(r&&s):null}var c=t[0],f=-1,l=c?c.length:0,h=n[0];t:for(;++f<l;)if(s=c[f],(h?Xt(h,s):i(a,s,0))<0){for(var r=e;--r;){var p=n[r];if((p?Xt(p,s):i(t[r],s,0))<0)continue t}h&&h.push(s),a.push(s)}return a}),Gu=yi(function(t,e){e=Le(e);var r=be(t,e);return Ue(t,e.sort(n)),r}),Ku=Nr(),Yu=Nr(!0),Xu=yi(function(t){return Qe(Le(t,!1,!0))}),Zu=yi(function(t,e){return Yr(t)?we(t,e):[]}),Qu=yi(Tn),ta=yi(function(t){var e=t.length,r=e>2?t[e-2]:k,n=e>1?t[e-1]:k;return e>2&&"function"==typeof r?e-=2:(r=e>1&&"function"==typeof n?(--e,n):k,n=k),t.length=e,Wn(t,r,n)}),ea=yi(function(t){return t=Le(t),this.thru(function(e){return Qt(La(e)?e:[ln(e)],t)})}),ra=yi(function(t,e){return be(t,Le(e))}),na=cr(function(t,e,r){eu.call(t,r)?++t[r]:t[r]=1}),ia=mr(Ou),oa=mr(Tu,!0),ua=Er(ee,Ou),aa=Er(ie,Tu),sa=cr(function(t,e,r){eu.call(t,r)?t[r].push(e):t[r]=[e]}),ca=cr(function(t,e,r){t[r]=e}),fa=yi(function(t,e,r){var n=-1,i="function"==typeof e,o=Qr(e),u=Yr(t)?qo(t.length):[];return Ou(t,function(t){var a=i?e:o&&null!=t?t[e]:k;u[++n]=a?a.apply(t,r):Kr(t,e,r)}),u}),la=cr(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]}),ha=Ir(fe,Ou),pa=Ir(le,Tu),va=yi(function(t,e){if(null==t)return[];var r=e[2];return r&&Zr(e[0],e[1],r)&&(e.length=1),Xe(t,Le(e),[])}),da=Eu||function(){return(new Fo).getTime()},ga=yi(function(t,e,r){var n=j;if(r.length){var i=_(r,ga.placeholder);n|=A}return Or(t,n,e,r,i)}),ya=yi(function(t,e){e=e.length?Le(e):Yi(t);for(var r=-1,n=e.length;++r<n;){var i=e[r];t[i]=Or(t[i],j,t)}return t}),ba=yi(function(t,e,r){var n=j|C;if(r.length){var i=_(r,ba.placeholder);n|=A}return Or(e,n,t,r,i)}),_a=yr(I),ma=yr(P),xa=yi(function(t,e){return Re(t,1,e)}),Ra=yi(function(t,e,r){return Re(t,e,r)}),wa=wr(),Ea=wr(!0),ka=yi(function(t,e){if(e=Le(e),"function"!=typeof t||!oe(e,u))throw new Yo($);var r=e.length;return yi(function(n){for(var i=wu(n.length,r);i--;)n[i]=e[i](n[i]);return t.apply(this,n)})}),Sa=Lr(A),ja=Lr(M),Ca=yi(function(t,e){return Or(t,N,k,k,k,Le(e))}),La=_u||function(t){return y(t)&&en(t.length)&&nu.call(t)==z},Ia=fr(qe),Pa=fr(function(t,e,r){return r?ge(t,e,r):ye(t,e)}),Aa=br(Pa,ve),Ma=br(Ia,on),Ba=Rr(Pe),Na=Rr(Ae),Oa=kr(Wu),Ta=kr(Du),Wa=Sr(Pe),Da=Sr(Ae),Va=xu?function(t){var e=null==t?k:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Yr(t)?cn(t):Bi(t)?xu(t):[]}:cn,qa=jr(!0),Fa=jr(),$a=yi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=se(Le(e),Ko);return un(t,we(to(t),e))}var r=or(e[0],e[1],3);return an(t,function(t,e,n){return!r(t,e,n)})}),Ja=yi(function(t,e){return null==t?{}:"function"==typeof e[0]?an(t,or(e[0],e[1],3)):un(t,Le(e))}),Ua=dr(function(t,e,r){return e=e.toLowerCase(),t+(r?e.charAt(0).toUpperCase()+e.slice(1):e)}),za=dr(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),Ha=Cr(),Ga=Cr(!0),Ka=dr(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}),Ya=dr(function(t,e,r){return t+(r?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Xa=yi(function(t,e){try{return t.apply(k,e)}catch(r){return Pi(r)?r:new $o(r)}}),Za=yi(function(t,e){return function(r){return Kr(r,t,e)}}),Qa=yi(function(t,e){return function(r){return Kr(t,r,e)}}),ts=Br("ceil"),es=Br("floor"),rs=_r(wi,ju),ns=_r(Ui,Cu),is=Br("round");return e.prototype=r.prototype,b.prototype=Nu(r.prototype),b.prototype.constructor=b,X.prototype=Nu(r.prototype),X.prototype.constructor=X,Ut.prototype["delete"]=zt,Ut.prototype.get=Ht,Ut.prototype.has=Gt,Ut.prototype.set=Kt,Yt.prototype.push=Zt,vi.Cache=Ut,e.after=fi,e.ary=li,e.assign=Pa,e.at=ra,e.before=hi,e.bind=ga,e.bindAll=ya,e.bindKey=ba,e.callback=So,e.chain=qn,e.chunk=vn,e.compact=dn,e.constant=jo,e.countBy=na,e.create=Ki,e.curry=_a,e.curryRight=ma,e.debounce=pi,e.defaults=Aa,e.defaultsDeep=Ma,e.defer=xa,e.delay=Ra,e.difference=Ju,e.drop=gn,e.dropRight=yn,e.dropRightWhile=bn,e.dropWhile=_n,e.fill=mn,e.filter=Xn,e.flatten=Rn,e.flattenDeep=wn,e.flow=wa,e.flowRight=Ea,e.forEach=ua,e.forEachRight=aa,e.forIn=Oa,e.forInRight=Ta,e.forOwn=Wa,e.forOwnRight=Da,e.functions=Yi,e.groupBy=sa,e.indexBy=ca,e.initial=kn,e.intersection=Hu,e.invert=Qi,e.invoke=fa,e.keys=Va,e.keysIn=to,e.map=ti,e.mapKeys=qa,e.mapValues=Fa,e.matches=Lo,e.matchesProperty=Io,e.memoize=vi,e.merge=Ia,e.method=Za,e.methodOf=Qa,e.mixin=Po,e.modArgs=ka,e.negate=di,e.omit=$a,e.once=gi,e.pairs=eo,e.partial=Sa,e.partialRight=ja,e.partition=la,e.pick=Ja,e.pluck=ei,e.property=Bo,e.propertyOf=No,e.pull=Cn,e.pullAt=Gu,e.range=Oo,e.rearg=Ca,e.reject=ri,e.remove=Ln,e.rest=In,e.restParam=yi,e.set=no,e.shuffle=ii,e.slice=Pn,e.sortBy=ai,e.sortByAll=va,e.sortByOrder=si,e.spread=bi,e.take=An,e.takeRight=Mn,e.takeRightWhile=Bn,e.takeWhile=Nn,e.tap=Fn,e.throttle=_i,e.thru=$n,e.times=To,e.toArray=Hi,e.toPlainObject=Gi,e.transform=io,e.union=Xu,e.uniq=On,e.unzip=Tn,e.unzipWith=Wn,e.values=oo,e.valuesIn=uo,e.where=ci,e.without=Zu,e.wrap=mi,e.xor=Dn,e.zip=Qu,e.zipObject=Vn,e.zipWith=ta,e.backflow=Ea,e.collect=ti,e.compose=Ea,e.each=ua,e.eachRight=aa,e.extend=Pa,e.iteratee=So,e.methods=Yi,e.object=Vn,e.select=Xn,e.tail=In,e.unique=On,Po(e,e),e.add=Do,e.attempt=Xa,e.camelCase=Ua,e.capitalize=co,e.ceil=ts,e.clone=xi,e.cloneDeep=Ri,e.deburr=fo,e.endsWith=lo,e.escape=ho,e.escapeRegExp=po,e.every=Yn,e.find=ia,e.findIndex=Uu,e.findKey=Ba,e.findLast=oa,e.findLastIndex=zu,e.findLastKey=Na,e.findWhere=Zn,e.first=xn,e.floor=es,e.get=Xi,e.gt=wi,e.gte=Ei,e.has=Zi,e.identity=Co,e.includes=Qn,e.indexOf=En,e.inRange=ao,e.isArguments=ki,e.isArray=La,e.isBoolean=Si,e.isDate=ji,e.isElement=Ci,e.isEmpty=Li,e.isEqual=Ii,e.isError=Pi,e.isFinite=Ai,e.isFunction=Mi,e.isMatch=Ni,e.isNaN=Oi,e.isNative=Ti,e.isNull=Wi,e.isNumber=Di,e.isObject=Bi,e.isPlainObject=Vi,e.isRegExp=qi,e.isString=Fi,e.isTypedArray=$i,e.isUndefined=Ji,e.kebabCase=za,e.last=Sn,e.lastIndexOf=jn,e.lt=Ui,e.lte=zi,e.max=rs,e.min=ns,e.noConflict=Ao,e.noop=Mo,e.now=da,e.pad=vo,e.padLeft=Ha,e.padRight=Ga,e.parseInt=go,e.random=so,e.reduce=ha,e.reduceRight=pa,e.repeat=yo,e.result=ro,e.round=is,e.runInContext=E,e.size=oi,e.snakeCase=Ka,e.some=ui,e.sortedIndex=Ku,e.sortedLastIndex=Yu,e.startCase=Ya,e.startsWith=bo,e.sum=Vo,e.template=_o,e.trim=mo,e.trimLeft=xo,e.trimRight=Ro,e.trunc=wo,e.unescape=Eo,e.uniqueId=Wo,e.words=ko,e.all=Yn,e.any=ui,e.contains=Qn,e.eq=Ii,e.detect=ia,e.foldl=ha,e.foldr=pa,e.head=xn,e.include=Qn,e.inject=ha,Po(e,function(){var t={};return Pe(e,function(r,n){e.prototype[n]||(t[n]=r)}),t}(),!1),e.sample=ni,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ni(e,t)}):ni(this.value())},e.VERSION=S,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){X.prototype[t]=function(r){var n=this.__filtered__;if(n&&!e)return new X(this);r=null==r?1:Ru(bu(r)||0,0);var i=this.clone();return n?i.__takeCount__=wu(i.__takeCount__,r):i.__views__.push({size:r,type:t+(i.__dir__<0?"Right":"")}),i},X.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r!=F;X.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:Vr(t,e,1),type:r}),i.__filtered__=i.__filtered__||n,i}}),ee(["first","last"],function(t,e){var r="take"+(e?"Right":"");X.prototype[t]=function(){return this[r](1).value()[0]}}),ee(["initial","rest"],function(t,e){var r="drop"+(e?"":"Right");X.prototype[t]=function(){return this.__filtered__?new X(this):this[r](1)}}),ee(["pluck","where"],function(t,e){var r=e?"filter":"map",n=e?De:Bo;X.prototype[t]=function(t){return this[r](n(t))}}),X.prototype.compact=function(){return this.filter(Co)},X.prototype.reject=function(t,e){return t=Vr(t,e,1),this.filter(function(e){return!t(e)})},X.prototype.slice=function(t,e){t=null==t?0:+t||0;var r=this;return r.__filtered__&&(t>0||0>e)?new X(r):(0>t?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==k&&(e=+e||0,r=0>e?r.dropRight(-e):r.take(e-t)),r)},X.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},X.prototype.toArray=function(){return this.take(Cu)},Pe(X.prototype,function(t,r){var n=/^(?:filter|map|reject)|While$/.test(r),i=/^(?:first|last)$/.test(r),o=e[i?"take"+("last"==r?"Right":""):r];o&&(e.prototype[r]=function(){var e=i?[1]:arguments,r=this.__chain__,u=this.__wrapped__,a=!!this.__actions__.length,s=u instanceof X,c=e[0],f=s||La(u);f&&n&&"function"==typeof c&&1!=c.length&&(s=f=!1);var l=function(t){return i&&r?o(t,1)[0]:o.apply(k,ce([t],e))},h={func:$n,args:[l],thisArg:k},p=s&&!a;if(i&&!r)return p?(u=u.clone(),u.__actions__.push(h),t.call(u)):o.call(k,this.value())[0];if(!i&&f){u=p?u:new X(this);var v=t.apply(u,e);return v.__actions__.push(h),new b(v,r)}return this.thru(l)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var r=(/^(?:replace|split)$/.test(t)?Qo:Xo)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?r.apply(this.value(),t):this[n](function(e){return r.apply(e,t)})}}),Pe(X.prototype,function(t,r){var n=e[r];if(n){var i=n.name,o=Bu[i]||(Bu[i]=[]);o.push({name:r,func:n})}}),Bu[Pr(k,C).name]=[{name:"wrapper",func:k}],X.prototype.clone=et,X.prototype.reverse=nt,X.prototype.value=Jt,e.prototype.chain=Jn,e.prototype.commit=Un,e.prototype.concat=ea,e.prototype.plant=zn,e.prototype.reverse=Hn,e.prototype.toString=Gn,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Kn,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var k,S="3.10.1",j=1,C=2,L=4,I=8,P=16,A=32,M=64,B=128,N=256,O=30,T="...",W=150,D=16,V=200,q=1,F=2,$="Expected a function",J="__lodash_placeholder__",U="[object Arguments]",z="[object Array]",H="[object Boolean]",G="[object Date]",K="[object Error]",Y="[object Function]",X="[object Map]",Z="[object Number]",Q="[object Object]",tt="[object RegExp]",et="[object Set]",rt="[object String]",nt="[object WeakMap]",it="[object ArrayBuffer]",ot="[object Float32Array]",ut="[object Float64Array]",at="[object Int8Array]",st="[object Int16Array]",ct="[object Int32Array]",ft="[object Uint8Array]",lt="[object Uint8ClampedArray]",ht="[object Uint16Array]",pt="[object Uint32Array]",vt=/\b__p \+= '';/g,dt=/\b(__p \+=) '' \+/g,gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,_t=RegExp(yt.source),mt=RegExp(bt.source),xt=/<%-([\s\S]+?)%>/g,Rt=/<%([\s\S]+?)%>/g,wt=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,kt=/^\w*$/,St=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,jt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ct=RegExp(jt.source),Lt=/[\u0300-\u036f\ufe20-\ufe23]/g,It=/\\(\\)?/g,Pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,At=/\w*$/,Mt=/^0[xX]/,Bt=/^\[object .+?Constructor\]$/,Nt=/^\d+$/,Ot=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Tt=/($^)/,Wt=/['\n\r\u2028\u2029\\]/g,Dt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Vt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],qt=-1,Ft={};Ft[ot]=Ft[ut]=Ft[at]=Ft[st]=Ft[ct]=Ft[ft]=Ft[lt]=Ft[ht]=Ft[pt]=!0,Ft[U]=Ft[z]=Ft[it]=Ft[H]=Ft[G]=Ft[K]=Ft[Y]=Ft[X]=Ft[Z]=Ft[Q]=Ft[tt]=Ft[et]=Ft[rt]=Ft[nt]=!1;var $t={};$t[U]=$t[z]=$t[it]=$t[H]=$t[G]=$t[ot]=$t[ut]=$t[at]=$t[st]=$t[ct]=$t[Z]=$t[Q]=$t[tt]=$t[rt]=$t[ft]=$t[lt]=$t[ht]=$t[pt]=!0,$t[K]=$t[Y]=$t[X]=$t[et]=$t[nt]=!1;var Jt={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},Ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},zt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ht={"function":!0,object:!0},Gt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=Ht[typeof t]&&t&&!t.nodeType&&t,Xt=Ht[typeof e]&&e&&!e.nodeType&&e,Zt=Yt&&Xt&&"object"==typeof r&&r&&r.Object&&r,Qt=Ht[typeof self]&&self&&self.Object&&self,te=Ht[typeof window]&&window&&window.Object&&window,ee=Xt&&Xt.exports===Yt&&Yt,re=Zt||te!==(this&&this.window)&&te||Qt||this,ne=E();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(re._=ne,define(function(){return ne})):Yt&&Xt?ee?(Xt.exports=ne)._=ne:Yt._=ne:re._=ne}).call(this)}(require("github:jspm/nodelibs-process@0.1.2")),r.define=n,e.exports}),System.registerDynamic("npm:lodash@3.10.1",["npm:lodash@3.10.1/index"],!0,function(require,t,e){var r=this,n=r.define;return r.define=void 0,e.exports=require("npm:lodash@3.10.1/index"),r.define=n,e.exports}),System.registerDynamic("npm:core-js@1.2.6/library/fn/object/define-properties",["npm:core-js@1.2.6/library/modules/$"],!0,function(require,t,e){var r=this,n=r.define;r.define=void 0;var i=require("npm:core-js@1.2.6/library/modules/$");return e.exports=function(t,e){return i.setDescs(t,e)},r.define=n,e.exports}),System.registerDynamic("npm:babel-runtime@5.8.34/core-js/object/define-properties",["npm:core-js@1.2.6/library/fn/object/define-properties"],!0,function(require,t,e){var r=this,n=r.define;return r.define=void 0,e.exports={"default":require("npm:core-js@1.2.6/library/fn/object/define-properties"),__esModule:!0},r.define=n,e.exports}),System.registerDynamic("npm:voronoi@1.0.0/rhill-voronoi-core",["github:jspm/nodelibs-process@0.1.2"],!0,function(require,t,e){var r=this,n=r.define;return r.define=void 0,function(t){function r(){this.vertices=null,this.edges=null,this.cells=null,this.toRecycle=null,this.beachsectionJunkyard=[],this.circleEventJunkyard=[],this.vertexJunkyard=[],this.edgeJunkyard=[],this.cellJunkyard=[]}r.prototype.reset=function(){if(this.beachline||(this.beachline=new this.RBTree),this.beachline.root)for(var t=this.beachline.getFirst(this.beachline.root);t;)this.beachsectionJunkyard.push(t),t=t.rbNext;this.beachline.root=null,this.circleEvents||(this.circleEvents=new this.RBTree),this.circleEvents.root=this.firstCircleEvent=null,this.vertices=[],this.edges=[],this.cells=[]},r.prototype.sqrt=Math.sqrt,r.prototype.abs=Math.abs,r.prototype.\u03b5=r.\u03b5=1e-9,r.prototype.inv\u03b5=r.inv\u03b5=1/r.\u03b5,r.prototype.equalWithEpsilon=function(t,e){return this.abs(t-e)<1e-9},r.prototype.greaterThanWithEpsilon=function(t,e){return t-e>1e-9},r.prototype.greaterThanOrEqualWithEpsilon=function(t,e){return 1e-9>e-t},r.prototype.lessThanWithEpsilon=function(t,e){return e-t>1e-9},r.prototype.lessThanOrEqualWithEpsilon=function(t,e){return 1e-9>t-e},r.prototype.RBTree=function(){this.root=null},r.prototype.RBTree.prototype.rbInsertSuccessor=function(t,e){var r;if(t){if(e.rbPrevious=t,e.rbNext=t.rbNext,t.rbNext&&(t.rbNext.rbPrevious=e),t.rbNext=e,t.rbRight){for(t=t.rbRight;t.rbLeft;)t=t.rbLeft;t.rbLeft=e}else t.rbRight=e;r=t}else this.root?(t=this.getFirst(this.root),e.rbPrevious=null,e.rbNext=t,t.rbPrevious=e,t.rbLeft=e,r=t):(e.rbPrevious=e.rbNext=null,this.root=e,r=null);e.rbLeft=e.rbRight=null,e.rbParent=r,e.rbRed=!0;var n,i;for(t=e;r&&r.rbRed;)n=r.rbParent,r===n.rbLeft?(i=n.rbRight,i&&i.rbRed?(r.rbRed=i.rbRed=!1,n.rbRed=!0,t=n):(t===r.rbRight&&(this.rbRotateLeft(r),t=r,r=t.rbParent),r.rbRed=!1,n.rbRed=!0,this.rbRotateRight(n))):(i=n.rbLeft,i&&i.rbRed?(r.rbRed=i.rbRed=!1,n.rbRed=!0,t=n):(t===r.rbLeft&&(this.rbRotateRight(r),t=r,r=t.rbParent),r.rbRed=!1,n.rbRed=!0,this.rbRotateLeft(n))),r=t.rbParent;this.root.rbRed=!1},r.prototype.RBTree.prototype.rbRemoveNode=function(t){t.rbNext&&(t.rbNext.rbPrevious=t.rbPrevious),t.rbPrevious&&(t.rbPrevious.rbNext=t.rbNext),t.rbNext=t.rbPrevious=null;var e,r=t.rbParent,n=t.rbLeft,i=t.rbRight;e=n?i?this.getFirst(i):n:i,r?r.rbLeft===t?r.rbLeft=e:r.rbRight=e:this.root=e;var o;if(n&&i?(o=e.rbRed,e.rbRed=t.rbRed,e.rbLeft=n,n.rbParent=e,e!==i?(r=e.rbParent,e.rbParent=t.rbParent,t=e.rbRight,r.rbLeft=t,e.rbRight=i,i.rbParent=e):(e.rbParent=r,r=e,t=e.rbRight)):(o=t.rbRed,t=e),t&&(t.rbParent=r),!o){if(t&&t.rbRed)return void(t.rbRed=!1);var u;do{if(t===this.root)break;if(t===r.rbLeft){if(u=r.rbRight,u.rbRed&&(u.rbRed=!1,r.rbRed=!0,this.rbRotateLeft(r),u=r.rbRight),u.rbLeft&&u.rbLeft.rbRed||u.rbRight&&u.rbRight.rbRed){u.rbRight&&u.rbRight.rbRed||(u.rbLeft.rbRed=!1,u.rbRed=!0,this.rbRotateRight(u),u=r.rbRight),u.rbRed=r.rbRed,r.rbRed=u.rbRight.rbRed=!1,this.rbRotateLeft(r),t=this.root;break}}else if(u=r.rbLeft,u.rbRed&&(u.rbRed=!1,r.rbRed=!0,this.rbRotateRight(r),u=r.rbLeft),u.rbLeft&&u.rbLeft.rbRed||u.rbRight&&u.rbRight.rbRed){u.rbLeft&&u.rbLeft.rbRed||(u.rbRight.rbRed=!1,u.rbRed=!0,this.rbRotateLeft(u),u=r.rbLeft),u.rbRed=r.rbRed,r.rbRed=u.rbLeft.rbRed=!1,this.rbRotateRight(r),t=this.root;break}u.rbRed=!0,t=r,r=r.rbParent}while(!t.rbRed);t&&(t.rbRed=!1)}},r.prototype.RBTree.prototype.rbRotateLeft=function(t){var e=t,r=t.rbRight,n=e.rbParent;n?n.rbLeft===e?n.rbLeft=r:n.rbRight=r:this.root=r,r.rbParent=n,e.rbParent=r,e.rbRight=r.rbLeft,e.rbRight&&(e.rbRight.rbParent=e),r.rbLeft=e},r.prototype.RBTree.prototype.rbRotateRight=function(t){var e=t,r=t.rbLeft,n=e.rbParent;n?n.rbLeft===e?n.rbLeft=r:n.rbRight=r:this.root=r,r.rbParent=n,e.rbParent=r,e.rbLeft=r.rbRight,e.rbLeft&&(e.rbLeft.rbParent=e),r.rbRight=e},r.prototype.RBTree.prototype.getFirst=function(t){for(;t.rbLeft;)t=t.rbLeft;return t},r.prototype.RBTree.prototype.getLast=function(t){for(;t.rbRight;)t=t.rbRight;return t},r.prototype.Diagram=function(t){this.site=t},r.prototype.Cell=function(t){this.site=t,this.halfedges=[],this.closeMe=!1},r.prototype.Cell.prototype.init=function(t){return this.site=t,this.halfedges=[],this.closeMe=!1,this},r.prototype.createCell=function(t){var e=this.cellJunkyard.pop();return e?e.init(t):new this.Cell(t)},r.prototype.Cell.prototype.prepareHalfedges=function(){for(var t,e=this.halfedges,r=e.length;r--;)t=e[r].edge,t.vb&&t.va||e.splice(r,1);return e.sort(function(t,e){return e.angle-t.angle}),e.length},r.prototype.Cell.prototype.getNeighborIds=function(){for(var t,e=[],r=this.halfedges.length;r--;)t=this.halfedges[r].edge,null!==t.lSite&&t.lSite.voronoiId!=this.site.voronoiId?e.push(t.lSite.voronoiId):null!==t.rSite&&t.rSite.voronoiId!=this.site.voronoiId&&e.push(t.rSite.voronoiId);return e},r.prototype.Cell.prototype.getBbox=function(){for(var t,e,r,n=this.halfedges,i=n.length,o=1/0,u=1/0,a=-(1/0),s=-(1/0);i--;)t=n[i].getStartpoint(),e=t.x,r=t.y,o>e&&(o=e),u>r&&(u=r),e>a&&(a=e),r>s&&(s=r);return{x:o,y:u,width:a-o,height:s-u}},r.prototype.Cell.prototype.pointIntersection=function(t,e){for(var r,n,i,o,u=this.halfedges,a=u.length;a--;){if(r=u[a],n=r.getStartpoint(),i=r.getEndpoint(),o=(e-n.y)*(i.x-n.x)-(t-n.x)*(i.y-n.y),!o)return 0;if(o>0)return-1}return 1},r.prototype.Vertex=function(t,e){this.x=t,this.y=e},r.prototype.Edge=function(t,e){this.lSite=t,this.rSite=e,this.va=this.vb=null},r.prototype.Halfedge=function(t,e,r){if(this.site=e,this.edge=t,r)this.angle=Math.atan2(r.y-e.y,r.x-e.x);else{var n=t.va,i=t.vb;this.angle=t.lSite===e?Math.atan2(i.x-n.x,n.y-i.y):Math.atan2(n.x-i.x,i.y-n.y)}},r.prototype.createHalfedge=function(t,e,r){return new this.Halfedge(t,e,r)},r.prototype.Halfedge.prototype.getStartpoint=function(){return this.edge.lSite===this.site?this.edge.va:this.edge.vb},r.prototype.Halfedge.prototype.getEndpoint=function(){return this.edge.lSite===this.site?this.edge.vb:this.edge.va},r.prototype.createVertex=function(t,e){var r=this.vertexJunkyard.pop();return r?(r.x=t,r.y=e):r=new this.Vertex(t,e),this.vertices.push(r),r},r.prototype.createEdge=function(t,e,r,n){var i=this.edgeJunkyard.pop();return i?(i.lSite=t,i.rSite=e,i.va=i.vb=null):i=new this.Edge(t,e),this.edges.push(i),r&&this.setEdgeStartpoint(i,t,e,r),n&&this.setEdgeEndpoint(i,t,e,n),this.cells[t.voronoiId].halfedges.push(this.createHalfedge(i,t,e)),this.cells[e.voronoiId].halfedges.push(this.createHalfedge(i,e,t)),i},r.prototype.createBorderEdge=function(t,e,r){var n=this.edgeJunkyard.pop();return n?(n.lSite=t,n.rSite=null):n=new this.Edge(t,null),n.va=e,n.vb=r,this.edges.push(n),n},r.prototype.setEdgeStartpoint=function(t,e,r,n){t.va||t.vb?t.lSite===r?t.vb=n:t.va=n:(t.va=n,t.lSite=e,t.rSite=r)},r.prototype.setEdgeEndpoint=function(t,e,r,n){this.setEdgeStartpoint(t,r,e,n)},r.prototype.Beachsection=function(){},r.prototype.createBeachsection=function(t){var e=this.beachsectionJunkyard.pop();return e||(e=new this.Beachsection),e.site=t,e},r.prototype.leftBreakPoint=function(t,e){var r=t.site,n=r.x,i=r.y,o=i-e;if(!o)return n;var u=t.rbPrevious;if(!u)return-(1/0);r=u.site;var a=r.x,s=r.y,c=s-e;if(!c)return a;var f=a-n,l=1/o-1/c,h=f/c;return l?(-h+this.sqrt(h*h-2*l*(f*f/(-2*c)-s+c/2+i-o/2)))/l+n:(n+a)/2},r.prototype.rightBreakPoint=function(t,e){var r=t.rbNext;if(r)return this.leftBreakPoint(r,e);var n=t.site;return n.y===e?n.x:1/0},r.prototype.detachBeachsection=function(t){this.detachCircleEvent(t),this.beachline.rbRemoveNode(t),this.beachsectionJunkyard.push(t)},r.prototype.removeBeachsection=function(t){var e=t.circleEvent,r=e.x,n=e.ycenter,i=this.createVertex(r,n),o=t.rbPrevious,u=t.rbNext,a=[t],s=Math.abs;this.detachBeachsection(t);for(var c=o;c.circleEvent&&s(r-c.circleEvent.x)<1e-9&&s(n-c.circleEvent.ycenter)<1e-9;)o=c.rbPrevious,a.unshift(c),this.detachBeachsection(c),c=o;a.unshift(c),this.detachCircleEvent(c);for(var f=u;f.circleEvent&&s(r-f.circleEvent.x)<1e-9&&s(n-f.circleEvent.ycenter)<1e-9;)u=f.rbNext,a.push(f),this.detachBeachsection(f),f=u;
a.push(f),this.detachCircleEvent(f);var l,h=a.length;for(l=1;h>l;l++)f=a[l],c=a[l-1],this.setEdgeStartpoint(f.edge,c.site,f.site,i);c=a[0],f=a[h-1],f.edge=this.createEdge(c.site,f.site,void 0,i),this.attachCircleEvent(c),this.attachCircleEvent(f)},r.prototype.addBeachsection=function(t){for(var e,r,n,i,o=t.x,u=t.y,a=this.beachline.root;a;)if(n=this.leftBreakPoint(a,u)-o,n>1e-9)a=a.rbLeft;else{if(i=o-this.rightBreakPoint(a,u),!(i>1e-9)){n>-1e-9?(e=a.rbPrevious,r=a):i>-1e-9?(e=a,r=a.rbNext):e=r=a;break}if(!a.rbRight){e=a;break}a=a.rbRight}var s=this.createBeachsection(t);if(this.beachline.rbInsertSuccessor(e,s),e||r){if(e===r)return this.detachCircleEvent(e),r=this.createBeachsection(e.site),this.beachline.rbInsertSuccessor(s,r),s.edge=r.edge=this.createEdge(e.site,s.site),this.attachCircleEvent(e),void this.attachCircleEvent(r);if(e&&!r)return void(s.edge=this.createEdge(e.site,s.site));if(e!==r){this.detachCircleEvent(e),this.detachCircleEvent(r);var c=e.site,f=c.x,l=c.y,h=t.x-f,p=t.y-l,v=r.site,d=v.x-f,g=v.y-l,y=2*(h*g-p*d),b=h*h+p*p,_=d*d+g*g,m=this.createVertex((g*b-p*_)/y+f,(h*_-d*b)/y+l);return this.setEdgeStartpoint(r.edge,c,v,m),s.edge=this.createEdge(c,t,void 0,m),r.edge=this.createEdge(t,v,void 0,m),this.attachCircleEvent(e),void this.attachCircleEvent(r)}}},r.prototype.CircleEvent=function(){this.arc=null,this.rbLeft=null,this.rbNext=null,this.rbParent=null,this.rbPrevious=null,this.rbRed=!1,this.rbRight=null,this.site=null,this.x=this.y=this.ycenter=0},r.prototype.attachCircleEvent=function(t){var e=t.rbPrevious,r=t.rbNext;if(e&&r){var n=e.site,i=t.site,o=r.site;if(n!==o){var u=i.x,a=i.y,s=n.x-u,c=n.y-a,f=o.x-u,l=o.y-a,h=2*(s*l-c*f);if(!(h>=-2e-12)){var p=s*s+c*c,v=f*f+l*l,d=(l*p-c*v)/h,g=(s*v-f*p)/h,y=g+a,b=this.circleEventJunkyard.pop();b||(b=new this.CircleEvent),b.arc=t,b.site=i,b.x=d+u,b.y=y+this.sqrt(d*d+g*g),b.ycenter=y,t.circleEvent=b;for(var _=null,m=this.circleEvents.root;m;)if(b.y<m.y||b.y===m.y&&b.x<=m.x){if(!m.rbLeft){_=m.rbPrevious;break}m=m.rbLeft}else{if(!m.rbRight){_=m;break}m=m.rbRight}this.circleEvents.rbInsertSuccessor(_,b),_||(this.firstCircleEvent=b)}}}},r.prototype.detachCircleEvent=function(t){var e=t.circleEvent;e&&(e.rbPrevious||(this.firstCircleEvent=e.rbNext),this.circleEvents.rbRemoveNode(e),this.circleEventJunkyard.push(e),t.circleEvent=null)},r.prototype.connectEdge=function(t,e){var r=t.vb;if(r)return!0;var n,i,o=t.va,u=e.xl,a=e.xr,s=e.yt,c=e.yb,f=t.lSite,l=t.rSite,h=f.x,p=f.y,v=l.x,d=l.y,g=(h+v)/2,y=(p+d)/2;if(this.cells[f.voronoiId].closeMe=!0,this.cells[l.voronoiId].closeMe=!0,d!==p&&(n=(h-v)/(d-p),i=y-n*g),void 0===n){if(u>g||g>=a)return!1;if(h>v){if(!o||o.y<s)o=this.createVertex(g,s);else if(o.y>=c)return!1;r=this.createVertex(g,c)}else{if(!o||o.y>c)o=this.createVertex(g,c);else if(o.y<s)return!1;r=this.createVertex(g,s)}}else if(-1>n||n>1)if(h>v){if(!o||o.y<s)o=this.createVertex((s-i)/n,s);else if(o.y>=c)return!1;r=this.createVertex((c-i)/n,c)}else{if(!o||o.y>c)o=this.createVertex((c-i)/n,c);else if(o.y<s)return!1;r=this.createVertex((s-i)/n,s)}else if(d>p){if(!o||o.x<u)o=this.createVertex(u,n*u+i);else if(o.x>=a)return!1;r=this.createVertex(a,n*a+i)}else{if(!o||o.x>a)o=this.createVertex(a,n*a+i);else if(o.x<u)return!1;r=this.createVertex(u,n*u+i)}return t.va=o,t.vb=r,!0},r.prototype.clipEdge=function(t,e){var r=t.va.x,n=t.va.y,i=t.vb.x,o=t.vb.y,u=0,a=1,s=i-r,c=o-n,f=r-e.xl;if(0===s&&0>f)return!1;var l=-f/s;if(0>s){if(u>l)return!1;a>l&&(a=l)}else if(s>0){if(l>a)return!1;l>u&&(u=l)}if(f=e.xr-r,0===s&&0>f)return!1;if(l=f/s,0>s){if(l>a)return!1;l>u&&(u=l)}else if(s>0){if(u>l)return!1;a>l&&(a=l)}if(f=n-e.yt,0===c&&0>f)return!1;if(l=-f/c,0>c){if(u>l)return!1;a>l&&(a=l)}else if(c>0){if(l>a)return!1;l>u&&(u=l)}if(f=e.yb-n,0===c&&0>f)return!1;if(l=f/c,0>c){if(l>a)return!1;l>u&&(u=l)}else if(c>0){if(u>l)return!1;a>l&&(a=l)}return u>0&&(t.va=this.createVertex(r+u*s,n+u*c)),1>a&&(t.vb=this.createVertex(r+a*s,n+a*c)),(u>0||1>a)&&(this.cells[t.lSite.voronoiId].closeMe=!0,this.cells[t.rSite.voronoiId].closeMe=!0),!0},r.prototype.clipEdges=function(t){for(var e,r=this.edges,n=r.length,i=Math.abs;n--;)e=r[n],(!this.connectEdge(e,t)||!this.clipEdge(e,t)||i(e.va.x-e.vb.x)<1e-9&&i(e.va.y-e.vb.y)<1e-9)&&(e.va=e.vb=null,r.splice(n,1))},r.prototype.closeCells=function(t){for(var e,r,n,i,o,u,a,s,c,f=t.xl,l=t.xr,h=t.yt,p=t.yb,v=this.cells,d=v.length,g=Math.abs;d--;)if(e=v[d],e.prepareHalfedges()&&e.closeMe){for(n=e.halfedges,i=n.length,r=0;i>r;){if(u=n[r].getEndpoint(),s=n[(r+1)%i].getStartpoint(),g(u.x-s.x)>=1e-9||g(u.y-s.y)>=1e-9)switch(!0){case this.equalWithEpsilon(u.x,f)&&this.lessThanWithEpsilon(u.y,p):if(c=this.equalWithEpsilon(s.x,f),a=this.createVertex(f,c?s.y:p),o=this.createBorderEdge(e.site,u,a),r++,n.splice(r,0,this.createHalfedge(o,e.site,null)),i++,c)break;u=a;case this.equalWithEpsilon(u.y,p)&&this.lessThanWithEpsilon(u.x,l):if(c=this.equalWithEpsilon(s.y,p),a=this.createVertex(c?s.x:l,p),o=this.createBorderEdge(e.site,u,a),r++,n.splice(r,0,this.createHalfedge(o,e.site,null)),i++,c)break;u=a;case this.equalWithEpsilon(u.x,l)&&this.greaterThanWithEpsilon(u.y,h):if(c=this.equalWithEpsilon(s.x,l),a=this.createVertex(l,c?s.y:h),o=this.createBorderEdge(e.site,u,a),r++,n.splice(r,0,this.createHalfedge(o,e.site,null)),i++,c)break;u=a;case this.equalWithEpsilon(u.y,h)&&this.greaterThanWithEpsilon(u.x,f):if(c=this.equalWithEpsilon(s.y,h),a=this.createVertex(c?s.x:f,h),o=this.createBorderEdge(e.site,u,a),r++,n.splice(r,0,this.createHalfedge(o,e.site,null)),i++,c)break;if(u=a,c=this.equalWithEpsilon(s.x,f),a=this.createVertex(f,c?s.y:p),o=this.createBorderEdge(e.site,u,a),r++,n.splice(r,0,this.createHalfedge(o,e.site,null)),i++,c)break;if(u=a,c=this.equalWithEpsilon(s.y,p),a=this.createVertex(c?s.x:l,p),o=this.createBorderEdge(e.site,u,a),r++,n.splice(r,0,this.createHalfedge(o,e.site,null)),i++,c)break;if(u=a,c=this.equalWithEpsilon(s.x,l),a=this.createVertex(l,c?s.y:h),o=this.createBorderEdge(e.site,u,a),r++,n.splice(r,0,this.createHalfedge(o,e.site,null)),i++,c)break;default:throw"Voronoi.closeCells() > this makes no sense!"}r++}e.closeMe=!1}},r.prototype.quantizeSites=function(t){for(var e,r=this.\u03b5,n=t.length;n--;)e=t[n],e.x=Math.floor(e.x/r)*r,e.y=Math.floor(e.y/r)*r},r.prototype.recycle=function(t){if(t){if(!(t instanceof this.Diagram))throw"Voronoi.recycleDiagram() > Need a Diagram object.";this.toRecycle=t}},r.prototype.compute=function(t,e){var r=new Date;this.reset(),this.toRecycle&&(this.vertexJunkyard=this.vertexJunkyard.concat(this.toRecycle.vertices),this.edgeJunkyard=this.edgeJunkyard.concat(this.toRecycle.edges),this.cellJunkyard=this.cellJunkyard.concat(this.toRecycle.cells),this.toRecycle=null);var n=t.slice(0);n.sort(function(t,e){var r=e.y-t.y;return r?r:e.x-t.x});for(var i,o,u,a=n.pop(),s=0,c=this.cells;;)if(u=this.firstCircleEvent,a&&(!u||a.y<u.y||a.y===u.y&&a.x<u.x))(a.x!==i||a.y!==o)&&(c[s]=this.createCell(a),a.voronoiId=s++,this.addBeachsection(a),o=a.y,i=a.x),a=n.pop();else{if(!u)break;this.removeBeachsection(u.arc)}this.clipEdges(e),this.closeCells(e);var f=new Date,l=new this.Diagram;return l.cells=this.cells,l.edges=this.edges,l.vertices=this.vertices,l.execTime=f.getTime()-r.getTime(),this.reset(),l},"undefined"!=typeof e&&(e.exports=r)}(require("github:jspm/nodelibs-process@0.1.2")),r.define=n,e.exports}),System.registerDynamic("npm:voronoi@1.0.0",["npm:voronoi@1.0.0/rhill-voronoi-core"],!0,function(require,t,e){var r=this,n=r.define;return r.define=void 0,e.exports=require("npm:voronoi@1.0.0/rhill-voronoi-core"),r.define=n,e.exports}),System.register("src/vector.js",[],function(t){"use strict";function e(t,e){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}function r(t,e){var r=e.x-t.x,n=e.y-t.y;return r*r+n*n}function n(){for(var t=0,e=0,r=arguments.length,n=Array(r),i=0;r>i;i++)n[i]=arguments[i];for(var o=0;o<n.length;o++)t+=n[o].x,e+=n[o].y;return{x:t,y:e}}function i(t,e){return{x:t.x-e.x,y:t.y-e.y}}function o(t,e){return{x:t.x*e.x,y:t.y*e.y}}function u(t,e){return{x:t.x/e.x,y:t.y/e.y}}function a(t){var r=e(t,s);return{x:t.x/r,y:t.y/r}}var s;return t("dist",e),t("distSquared",r),t("add",n),t("sub",i),t("mul",o),t("div",u),t("unit",a),{setters:[],execute:function(){s={x:0,y:0},t("zero",s)}}}),System.register("src/state.js",["npm:babel-runtime@5.8.34/helpers/create-class","npm:babel-runtime@5.8.34/helpers/class-call-check","npm:babel-runtime@5.8.34/core-js/object/define-properties","npm:voronoi@1.0.0","npm:lodash@3.10.1","src/vector.js"],function(t){var e,r,n,i,o,u,a,s;return{setters:[function(t){e=t["default"]},function(t){r=t["default"]},function(t){n=t["default"]},function(t){i=t["default"]},function(t){o=t},function(t){u=t}],execute:function(){"use strict";a=new i,s=function(){function t(e,i,u,s){var c=this;r(this,t);var f=10,l=e-2*f,h=i-2*f,p=this.bbox={xl:0,xr:e,yt:0,yb:i},v=this.sites=o.times(u,function(){var t=n({x:f+Math.random()*l,y:f+Math.random()*h,isMine:!1,neighbourMines:0,_isRevealed:!1,isFlagged:!1},{isRevealed:{get:function(){return this._isRevealed},configurable:!0,enumerable:!0}});return t}),d=this.diagram=a.compute(v,p);return o.chain(v).sample(s).each(function(t){t.isMine=!0}).value(),o.each(v,function(t){t.neighbourMines=o.chain(c.getNeighbours(t)).filter("isMine").size().value()}),o.each(d.vertices,function(t){t.anchor={x:t.x,y:t.y},t.v={x:0,y:0}}),o.chain(d.edges).filter(function(t){return null===t.rSite}).each(function(t){t.va.pinned=!0,t.vb.pinned=!0}).value(),o.extend(this,{bbox:p,diagram:d,sites:v,completed:!1,victory:!1}),this}return e(t,[{key:"getNeighbours",value:function(t){for(var e=this.diagram,r=e.cells[t.voronoiId],n=[],i=0;i<r.halfedges.length;i++){var o=r.halfedges[i].edge,u=o.lSite===t?o.rSite:o.lSite;u&&n.push(u)}return n}},{key:"revealSite",value:function(t){t._isRevealed=!0,this._checkGameVictory()}},{key:"revealAllNeighbours",value:function(t){for(var e=this.diagram,r=[t];r.length;){var n=r.pop();n._isRevealed=!0,(0===n.neighbourMines||t===n)&&(r=r.concat(o.filter(this.getNeighbours(n,e),function(t){return!t.isFlagged&&!t.isRevealed})))}this._checkGameVictory()}},{key:"_checkGameVictory",value:function(){var t=!0,e=!o.some(this.sites,function(e){return e._isRevealed||e.isMine||(t=!1),e._isRevealed&&e.isMine});e||(t=!0),this.completed=t,this.completed&&(this.victory=e,o.each(this.sites,function(t){return t._isRevealed=!0}))}}]),t}(),t("default",s)}}}),System.register("src/physics.js",["npm:lodash@3.10.1","src/vector.js"],function(t){"use strict";function e(t,e){r.each(t,function(t){var r=void 0,s=void 0,c=[];t.pinned||(e&&(r=n.dist(t,e),i>r&&(s=(1-r/i)*o,c.push(n.mul(n.sub(t,e),{x:s,y:s})))),r=n.dist(t,t.anchor),s=r/u*a,c.push(n.mul(n.sub(t.anchor,t),{x:s,y:s})),t.v=n.add.apply(n,[t.v].concat(c)),t.x+=t.v.x,t.y+=t.v.y,t.v.x*=.7,t.v.y*=.7)})}var r,n,i,o,u,a,s;return t("resolve",e),{setters:[function(t){r=t},function(t){n=t}],execute:function(){i=25,o=1,u=200,a=1,s=.5}}}),System.register("src/graphics.js",["npm:lodash@3.10.1","src/vector.js"],function(t){"use strict";function e(t,e,u){var a=t.canvas,s=a.width,c=a.height;if(t.clearRect(0,0,s,c),t.save(),o.each(e.diagram.edges,function(e){t.beginPath(),t.setLineDash([]),e.lSite.isFlagged||e.rSite&&e.rSite.isFlagged?(t.strokeWidth=5,t.strokeStyle="red"):e.lSite===u||e.rSite&&e.rSite===u?(t.strokeWidth=5,t.strokeStyle="blue"):e.rSite&&e.lSite.isRevealed&&e.rSite.isRevealed?(t.strokeWidth=1,t.strokeStyle="rgba(0, 0, 0, 0.3)",0!==e.lSite.neighbourMines||0!==e.rSite.neighbourMines||e.lSite.isMine||e.rSite.isMine||t.setLineDash([5,15])):!e.rSite||e.lSite.isRevealed||e.rSite.isRevealed?(t.strokeWidth=5,t.strokeStyle="black"):(t.strokeWidth=1,t.strokeStyle="rgba(0, 0, 0, 0.3)"),t.moveTo(e.va.x,e.va.y),t.lineTo(e.vb.x,e.vb.y),t.stroke()}),t.restore(),u){var f=e.diagram.cells[u.voronoiId];t.save(),t.fillStyle="rgba(0, 0, 255, 0.3)",r(t,f),t.restore();var l=o.filter(e.getNeighbours(u),function(t){return!t.isRevealed});o.each(l,function(n){var i=e.diagram.cells[n.voronoiId];t.fillStyle="rgba(0, 0, 255, 0.1)",r(t,i)})}t.save(),o.each(e.sites,function(r){var o=e.diagram.cells[r.voronoiId],a=void 0;if(r.isFlagged)a=i(o),t.fillStyle="red",n(t,a,2);else if(r.isRevealed)if(r.isMine)a=i(o),t.fillStyle="black",n(t,a,2);else{if(0===r.neighbourMines)return;a=i(o),t.fillStyle="black",u&&r===u?t.font="24px monospace":t.font="12px monospace",t.fillText(r.neighbourMines,a.x-5,a.y)}}),t.restore(),e.completed&&(t.save(),o.chain(e.sites).filter("isFlagged").reject("isMine").each(function(n){var i=e.diagram.cells[n.voronoiId];t.fillStyle="rgba(255, 0, 0, 0.3)",r(t,i)}).value(),o.chain(e.sites).filter("isMine").reject("isFlagged").each(function(n){var i=e.diagram.cells[n.voronoiId];t.fillStyle="rgba(0, 0, 0, 0.3)",r(t,i)}).value(),t.restore())}function r(t,e){t.beginPath();var r=e.halfedges[0].getStartpoint();t.moveTo(r.x,r.y),o.each(e.halfedges,function(e){var r=e.getEndpoint();t.lineTo(r.x,r.y)}),t.fill()}function n(t,e,r){t.beginPath(),t.arc(e.x,e.y,r,0,2*Math.PI),t.fill()}function i(t){var e=o.map(t.halfedges,function(t){return t.getStartpoint()});return u.div(u.add.apply(u,e),{x:e.length,y:e.length})}var o,u;return t("draw",e),{setters:[function(t){o=t},function(t){u=t}],execute:function(){}}}),System.register("src/viewcontroller.js",["npm:babel-runtime@5.8.34/helpers/create-class","npm:babel-runtime@5.8.34/helpers/class-call-check","npm:lodash@3.10.1","src/state.js","src/vector.js","src/physics.js","src/graphics.js"],function(t){var e,r,n,i,o,u,a,s,c;return{setters:[function(t){e=t["default"]},function(t){r=t["default"]},function(t){n=t},function(t){i=t["default"]},function(t){o=t},function(t){u=t},function(t){a=t}],execute:function(){"use strict";s={beginner:{cells:81,mines:10},intermediate:{cells:256,mines:40},expert:{cells:480,mines:99},master:{cells:900,mines:200}},c=function(){function t(){var e=this;r(this,t),this.canvas=document.getElementById("app"),this.context=this.canvas.getContext("2d"),this.restartBtn=document.getElementById("button-restart"),this.mineCountLabel=document.getElementById("label-mine-count"),this.difficultyInput=document.getElementById("select-difficulty"),this.difficulty=this.difficultyInput.value,this._totalMines=10,this.resizeCanvas(),this.newGame(),this.canvas.addEventListener("mousemove",this.onCanvasMouseMove.bind(this)),this.canvas.addEventListener("mouseout",this.onCanvasMouseOut.bind(this)),this.canvas.addEventListener("click",this.onCanvasClick.bind(this)),this.canvas.addEventListener("contextmenu",this.onCanvasRightClick.bind(this)),window.addEventListener("resize",this.resizeCanvas.bind(this)),this.restartBtn.addEventListener("click",this.newGame.bind(this)),this.difficultyInput.addEventListener("change",function(){e.updateDifficulty(e.difficultyInput.value)}),this.tick()}return e(t,[{key:"newGame",value:function(){var t=this.canvas,e=t.width,r=t.height,n=s[this.difficulty],o=n.cells,u=n.mines;this.mousePoint=null,this.mouseSite=null,this._totalMines=u,this.state=new i(e,r,o,u),this.mineCountLabel.innerText=this._totalMines}},{key:"updateDifficulty",value:function(t){this.difficulty=t}},{key:"resizeCanvas",value:function(){var t=this.canvas.parentNode,e=t.clientWidth,r=t.clientHeight;this.canvas.width=e,this.canvas.height=r}},{key:"onCanvasMouseMove",value:function(t){var e=this;this.mousePoint||(this.mousePoint={}),this.mousePoint.x=t.layerX,this.mousePoint.y=t.layerY,this.mouseSite=n.min(this.state.sites,function(t){return o.distSquared(t,e.mousePoint)})}},{key:"onCanvasMouseOut",value:function(t){this.mousePoint=null,this.mouseSite=null}},{key:"onCanvasClick",value:function(t){if(!this.state.completed){var e=n.min(this.state.sites,function(e){return o.distSquared(e,{x:t.layerX,y:t.layerY})});if(!e.isFlagged){if(event.shiftKey){if(e.isRevealed){var r=n.filter(this.state.getNeighbours(e),"isFlagged");r.length===e.neighbourMines&&this.state.revealAllNeighbours(e)}}else 0===e.neighbourMines?this.state.revealAllNeighbours(e):this.state.revealSite(e);this.state.completed&&(this.state.victory?alert("Winner!"):alert("Boooooom!"))}}}},{key:"onCanvasRightClick",value:function(t){t.preventDefault();var e=n.min(this.state.sites,function(e){return o.distSquared(e,{x:t.layerX,y:t.layerY})});e.isRevealed||(e.isFlagged=!e.isFlagged,this.mineCountLabel.innerText=this._totalMines-n.chain(this.state.sites).filter("isFlagged").size().value())}},{key:"tick",value:function(){u.resolve(this.state.diagram.vertices,this.mousePoint),a.draw(this.context,this.state,this.mouseSite),requestAnimationFrame(this.tick.bind(this))}}]),t}(),t("default",c)}}}),System.register("index.js",["src/viewcontroller.js"],function(t){"use strict";var e;return{setters:[function(t){e=t["default"]}],execute:function(){window.minesweeper=new e}}});
//# sourceMappingURL=index-bundle.js.map